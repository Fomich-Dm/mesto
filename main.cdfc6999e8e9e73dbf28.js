!function(){"use strict";function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var t=function(){function t(e,n,r,o,i,c){var u=e.name,a=e.link,s=e.likes,l=e.owner,f=e._id;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this._name=u,this._link=a,this._likes=s,this._id=l._id,this._cardId=f,this._cardSelector=n,this._handleCardClick=r,this._handleDeleteClick=o,this._handlePutLikeClick=i,this._handleDislikeLikeClick=c}var n,r;return n=t,(r=[{key:"_getTemplate",value:function(){return document.querySelector(this._cardSelector).content.querySelector(".cards__item").cloneNode(!0)}},{key:"createCard",value:function(){this._element=this._getTemplate(),this._setEventListeners(),this._setDeleteButton();var e=this._element.querySelector(".cards__image");return this._element.querySelector(".cards__name").textContent=this._name,this._element.querySelector(".cards__number-of-likes").textContent=this._likes.length,e.src=this._link,e.alt=this._name,this._likeStatus(),this._element}},{key:"_setEventListeners",value:function(){var e=this;this._element.querySelector(".cards__like").addEventListener("click",(function(){e._handleLikeClick()})),this._element.querySelector(".cards__delete").addEventListener("click",(function(){e._handleDeleteClick()})),this._element.querySelector(".cards__image").addEventListener("click",this._handleCardClick)}},{key:"_handleLikeClick",value:function(){this._element.querySelector(".cards__like").classList.contains("cards__like_active")?this._handleDislikeLikeClick(this._cardId):this._handlePutLikeClick(this._cardId)}},{key:"toggleLike",value:function(e){this._likes=e.likes,this._element.querySelector(".cards__like").classList.toggle("cards__like_active"),this._element.querySelector(".cards__number-of-likes").textContent=this._likes.length}},{key:"_likeStatus",value:function(){this._likes.some((function(e){return"42d9cd9609783d1d85646282"===e._id}))&&this._element.querySelector(".cards__like").classList.add("cards__like_active")}},{key:"_setDeleteButton",value:function(){"42d9cd9609783d1d85646282"===this._id&&this._element.querySelector(".cards__delete").classList.add("cards__delete_active")}},{key:"handleRemoveClick",value:function(){this._element.remove()}}])&&e(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),t}();function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var r=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._renderer=t,this._container=document.querySelector(n)}var t,r;return t=e,(r=[{key:"renderItem",value:function(e){var t=this;e.forEach((function(e){return t._renderer(e)}))}},{key:"addItem",value:function(e){this._container.prepend(e)}}])&&n(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),o={inputError:"popup__input_type_error",inputErrorActive:"popup__input-error_active",inputForm:".popup__input",submitButton:".popup__button",form:".popup__info",submitButtonInactive:"popup__button_inactive"};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),c(this,"_handleEscClose",(function(e){"Escape"===e.key&&n.close()})),c(this,"_handleClickClose",(function(e){e.target===e.currentTarget&&n.close(e.currentTarget)})),this._selector=document.querySelector(t),this._buttonClose=this._selector.querySelector(".popup__close")}var t,n;return t=e,(n=[{key:"open",value:function(){this._selector.classList.add("popup_opened"),document.addEventListener("keydown",this._handleEscClose),this._selector.addEventListener("mousedown",this._handleClickClose)}},{key:"close",value:function(){this._selector.classList.remove("popup_opened"),document.removeEventListener("keydown",this._handleEscClose),this._selector.removeEventListener("mousedown",this._handleClickClose)}},{key:"setEventListener",value:function(){var e=this;this._buttonClose.addEventListener("click",(function(){e.close()}))}}])&&i(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(){return l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=f(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},l.apply(this,arguments)}function f(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=d(e)););return e}function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}function h(e,t){if(t&&("object"===a(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}var _=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}(c,e);var t,n,r,o,i=(r=c,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=d(r);if(o){var n=d(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return h(this,e)});function c(e){var t,n=e.selectorPopup,r=e.handleFormSubmit;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=i.call(this,n))._handleFormSubmit=r,t._element=t._selector.querySelector(".popup__info"),t._button=t._selector.querySelector(".popup__button"),t}return t=c,(n=[{key:"_getInputValues",value:function(){var e=this;return this._inputList=this._element.querySelectorAll(".popup__input"),this._formValues={},this._inputList.forEach((function(t){e._formValues[t.name]=t.value})),this._formValues}},{key:"setEventListener",value:function(){var e=this;this._element.addEventListener("submit",(function(t){t.preventDefault(),e._handleFormSubmit(e._getInputValues())})),l(d(c.prototype),"setEventListener",this).call(this)}},{key:"close",value:function(){this._element.reset(),l(d(c.prototype),"close",this).call(this)}},{key:"loading",value:function(){this._button.textContent="Сохранение..."}},{key:"loadingEnd",value:function(e){this._button.textContent=e}}])&&s(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),c}(u);function y(e){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(){return m="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=b(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},m.apply(this,arguments)}function b(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=w(e)););return e}function k(e,t){return k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},k(e,t)}function g(e,t){if(t&&("object"===y(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function w(e){return w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},w(e)}var E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&k(e,t)}(c,e);var t,n,r,o,i=(r=c,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=w(r);if(o){var n=w(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return g(this,e)});function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=i.call(this,e))._image=t._selector.querySelector(".popup__img"),t._name=t._selector.querySelector(".popup__title-place"),t}return t=c,(n=[{key:"open",value:function(e){var t=e.name,n=e.link;this._image.src=n,this._image.alt=t,this._name.textContent=t,m(w(c.prototype),"open",this).call(this)}}])&&v(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),c}(u);function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var P=function(){function e(t){var n=t.name,r=t.about,o=t.avatar;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=document.querySelector(n),this._profession=document.querySelector(r),this._avatar=document.querySelector(o),this._inputName=document.querySelector(".popup__input_type_name"),this._inputProfession=document.querySelector(".popup__input_type_about")}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){return{name:this._inputName.value=this._name.textContent,about:this._inputProfession.value=this._profession.textContent}}},{key:"setUserInfo",value:function(e){var t=e.name,n=e.about,r=e.avatar;this._name.textContent=t,this._profession.textContent=n,this._avatar.src=r}}])&&S(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function j(e,t,n){return t&&O(e.prototype,t),n&&O(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var C=j((function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),L(this,"_showInputError",(function(e,t){var n=r._data.querySelector(".".concat(e.id,"-error"));e.classList.add(r._inputError),n.textContent=t,n.classList.add(r._inputErrorActive)})),L(this,"_hideInputError",(function(e){var t=r._data.querySelector(".".concat(e.id,"-error"));e.classList.remove(r._inputError),t.classList.remove(r._inputErrorActive),t.textContent=""})),L(this,"_isValid",(function(e){e.validity.valid?r._hideInputError(e):r._showInputError(e,e.validationMessage)})),L(this,"_setEventListeners",(function(){r._toggleButtonState(),r._inputList.forEach((function(e){e.addEventListener("input",(function(){r._isValid(e),r._toggleButtonState()}))}))})),L(this,"enableValidation",(function(){r._setEventListeners()})),L(this,"_hasInvalidInput",(function(){return r._inputList.some((function(e){return!e.validity.valid}))})),L(this,"_enabledButtonPlace",(function(){r._buttonElement.classList.remove(r._submitButtonInactive),r._buttonElement.disabled=!1})),L(this,"disabledButtonPlace",(function(){r._buttonElement.classList.add(r._submitButtonInactive),r._buttonElement.disabled=!0})),L(this,"_toggleButtonState",(function(){r._hasInvalidInput()?r.disabledButtonPlace():r._enabledButtonPlace()})),this._form=t.form,this._inputError=t.inputError,this._inputErrorActive=t.inputErrorActive,this._inputForm=t.inputForm,this._submitButton=t.submitButton,this._submitButtonInactive=t.submitButtonInactive,this._data=n,this._inputList=Array.from(this._data.querySelectorAll(this._inputForm)),this._buttonElement=this._data.querySelector(this._submitButton)}));function q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var I=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._url=t.url,this._headers=t.headers}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){return fetch(this._url,{method:"GET",headers:this._headers}).then((function(e){return e.ok?e.json():Promise.reject("Ошибка: ".concat(e.status))}))}},{key:"getAllCards",value:function(){return fetch(this._url,{method:"GET",headers:this._headers}).then((function(e){return e.ok?e.json():Promise.reject("Ошибка: ".concat(e.status))}))}},{key:"editUserInfo",value:function(e){return fetch(this._url,{method:"PATCH",headers:this._headers,body:JSON.stringify(e)}).then((function(e){return e.ok?e.json():Promise.reject("Ошибка: ".concat(e.status))}))}},{key:"editUserAvatar",value:function(e){return fetch(this._url,{method:"PATCH",headers:this._headers,body:JSON.stringify(e)}).then((function(e){return e.ok?e.json():Promise.reject("Ошибка: ".concat(e.status))}))}},{key:"addNewPlace",value:function(e){return fetch(this._url,{method:"POST",headers:this._headers,body:JSON.stringify(e)}).then((function(e){return e.ok?e.json():Promise.reject("Ошибка: ".concat(e.status))}))}},{key:"deleteCard",value:function(e){return fetch("".concat(this._url).concat(e),{method:"DELETE",headers:this._headers}).then((function(e){return e.ok?e.json():Promise.reject("Ошибка: ".concat(e.status))}))}},{key:"putLike",value:function(e){return fetch("".concat(this._url).concat(e,"/likes"),{method:"PUT",headers:this._headers}).then((function(e){return e.ok?e.json():Promise.reject("Ошибка: ".concat(e.status))}))}},{key:"deleteLike",value:function(e){return fetch("".concat(this._url).concat(e,"/likes"),{method:"DELETE",headers:this._headers}).then((function(e){return e.ok?e.json():Promise.reject("Ошибка: ".concat(e.status))}))}}])&&q(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function R(e){return R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},R(e)}function T(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function B(){return B="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=x(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},B.apply(this,arguments)}function x(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=U(e)););return e}function A(e,t){return A=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},A(e,t)}function D(e,t){if(t&&("object"===R(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function U(e){return U=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},U(e)}var V=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&A(e,t)}(c,e);var t,n,r,o,i=(r=c,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=U(r);if(o){var n=U(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return D(this,e)});function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=i.call(this,e))._element=t._selector.querySelector(".popup__info"),t}return t=c,(n=[{key:"setEventListener",value:function(){var e=this;this._element.querySelector(".popup__button_delete").addEventListener("click",(function(t){t.preventDefault(),e._handleSubmitCallback()})),B(U(c.prototype),"setEventListener",this).call(this)}},{key:"setSubmitAction",value:function(e){this._handleSubmitCallback=e}}])&&T(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),c}(u);function F(e){return new I({url:e,headers:{authorization:"5c0d23ff-2f59-4bc2-a6ef-f772c38f9e88","Content-Type":"application/json"}})}F("https://nomoreparties.co/v1/cohort-41/users/me").getUserInfo().then((function(e){X.setUserInfo(e)})).catch((function(e){console.log(e)}));var N=F("https://mesto.nomoreparties.co/v1/cohort-41/cards");N.getAllCards().then((function(e){z.renderItem(e)})).catch((function(e){console.log(e)}));var J=F("https://mesto.nomoreparties.co/v1/cohort-41/cards/"),G=F("https://mesto.nomoreparties.co/v1/cohort-41/cards/");function H(e){var n=new t(e,".card-template_type_default",(function(){M.open(e)}),(function(e){$.open(),$.setSubmitAction((function(){G.deleteCard(e).then((function(){n.handleRemoveClick(),$.close()})).catch((function(e){console.log(e)}))}))}),(function(e){J.putLike(e).then((function(e){n.toggleLike(e)}))}),(function(e){J.deleteLike(e).then((function(e){n.toggleLike(e)})).catch((function(e){console.log(e)}))}));return n.createCard()}var z=new r((function(e){z.addItem(H(e))}),".cards"),M=new E(".popup_image");M.setEventListener();var K=new _({selectorPopup:".popup_add",handleFormSubmit:function(e){K.loading(),N.addNewPlace(e).then((function(e){z.addItem(H(e)),K.close()})).catch((function(e){console.log(e)})).finally((function(){K.loadingEnd("Создать")}))}});K.setEventListener();var Q=F("https://mesto.nomoreparties.co/v1/cohort-41/users/me/avatar"),W=new _({selectorPopup:".popup_avatar",handleFormSubmit:function(e){W.loading(),Q.editUserAvatar(e).then((function(e){X.setUserInfo(e),W.close()})).catch((function(e){console.log(e)})).finally((function(){W.loadingEnd("Сохранить")}))}});W.setEventListener();var X=new P({name:".profile__name",about:".profile__about-me",avatar:".profile__avatar"}),Y=F("https://mesto.nomoreparties.co/v1/cohort-41/users/me"),Z=new _({selectorPopup:".popup_edit",handleFormSubmit:function(e){Z.loading(),Y.editUserInfo(e).then((function(e){X.setUserInfo(e),Z.close()})).catch((function(e){console.log(e)})).finally((function(){Z.loadingEnd("Сохранить")}))}});Z.setEventListener();var $=new V(".popup_delete-image");$.setEventListener(),document.querySelector(".profile__add-button").addEventListener("click",(function(){K.open(),re.disabledButtonPlace()})),document.querySelector(".profile__edit-button").addEventListener("click",(function(){X.getUserInfo(),Z.open()})),document.querySelector(".profile__avatar-button").addEventListener("click",(function(){W.open()}));var ee=document.querySelector(".popup__info_add"),te=document.querySelector(".popup__info_edit"),ne=document.querySelector(".popup__info_avatar");new C(o,te).enableValidation();var re=new C(o,ee);re.enableValidation(),new C(o,ne).enableValidation()}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LEVBQVUsSUFBSXhELEVBQVMsQ0FBQ2pGLEtBQU0saUJBQWtCa0YsTUFBTSxxQkFBc0JDLE9BQVEscUJBRXBGd0YsRUFBY3JDLEVBQUksd0RBQ2xCc0MsRUFBVyxJQUFJMUcsRUFBYyxDQUNqQ1gsY0FBZSxjQUNmWSxpQkFBa0IsU0FBQ3ZCLEdBQ2pCZ0ksRUFBU1IsVUFDVE8sRUFBWUUsYUFBYWpJLEdBQ3hCOEUsTUFBSyxTQUFDOUUsR0FDTDZGLEVBQVFDLFlBQVk5RixHQUNwQmdJLEVBQVNsSCxXQUNSaUYsT0FBTSxTQUFDQyxHQUNSQyxRQUFRQyxJQUFJRixNQUNYMEIsU0FBUSxXQUNUTSxFQUFTTCxXQUFXLG1CQUsxQkssRUFBU1YsbUJBRVQsSUFBTVQsRUFBYSxJQUFJckIsRUFBb0IsdUJBRTNDcUIsRUFBV1MsbUJBR1duSixTQUFTQyxjQUFjLHdCQUMvQmEsaUJBQWlCLFNBQVMsV0FDdENzSSxFQUFRWCxPQUNSc0IsR0FBYWxFLHlCQUdRN0YsU0FBU0MsY0FBYyx5QkFDL0JhLGlCQUFpQixTQUFTLFdBQ3ZDNEcsRUFBUUQsY0FDUm9DLEVBQVNwQixVQUdhekksU0FBU0MsY0FBYywyQkFDL0JhLGlCQUFpQixTQUFTLFdBQ3hDNEksRUFBV2pCLFVBSWIsSUFBTXVCLEdBQW1CaEssU0FBU0MsY0FBYyxvQkFDMUNnSyxHQUFxQmpLLFNBQVNDLGNBQWMscUJBQzVDaUssR0FBb0JsSyxTQUFTQyxjQUFjLHVCQUMzQixJQUFJd0UsRUFBY3pDLEVBQVVpSSxJQUNwQ0UsbUJBQ2QsSUFBTUosR0FBZSxJQUFJdEYsRUFBY3pDLEVBQVVnSSxJQUNqREQsR0FBYUksbUJBQ1csSUFBSTFGLEVBQWN6QyxFQUFVa0ksSUFDcENDLG1CIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9DYXJkLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvU2VjdGlvbi5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy91dGlscy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cC5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1VzZXJJbmZvLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL0FwaS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aERlbGV0ZUZvcm0uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvcGFnZXMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNsYXNzIENhcmQge1xuICBjb25zdHJ1Y3Rvcih7bmFtZSwgbGluaywgbGlrZXMsIG93bmVyLCBfaWR9LCBjYXJkU2VsZWN0b3IsIGhhbmRsZUNhcmRDbGljaywgaGFuZGxlRGVsZXRlQ2xpY2ssIGhhbmRsZVB1dExpa2VDbGljaywgaGFuZGxlRGlzbGlrZUxpa2VDbGljaykge1xuICAgIHRoaXMuX25hbWUgPSBuYW1lO1xuICAgIHRoaXMuX2xpbmsgPSBsaW5rO1xuICAgIHRoaXMuX2xpa2VzID0gbGlrZXM7XG4gICAgdGhpcy5faWQgPSBvd25lci5faWQ7XG4gICAgdGhpcy5fY2FyZElkID0gX2lkO1xuICAgIHRoaXMuX2NhcmRTZWxlY3RvciA9IGNhcmRTZWxlY3RvcjtcbiAgICB0aGlzLl9oYW5kbGVDYXJkQ2xpY2sgPSBoYW5kbGVDYXJkQ2xpY2s7XG4gICAgdGhpcy5faGFuZGxlRGVsZXRlQ2xpY2sgPSBoYW5kbGVEZWxldGVDbGljaztcbiAgICB0aGlzLl9oYW5kbGVQdXRMaWtlQ2xpY2sgPSBoYW5kbGVQdXRMaWtlQ2xpY2s7XG4gICAgdGhpcy5faGFuZGxlRGlzbGlrZUxpa2VDbGljayA9IGhhbmRsZURpc2xpa2VMaWtlQ2xpY2s7XG4gIH1cblxuXG4gIF9nZXRUZW1wbGF0ZSgpIHtcbiAgICBjb25zdCBjYXJkRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5fY2FyZFNlbGVjdG9yKS5jb250ZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYXJkc19faXRlbScpLmNsb25lTm9kZSh0cnVlKTtcbiAgICByZXR1cm4gY2FyZEVsZW1lbnQ7XG4gIH1cblxuICBjcmVhdGVDYXJkKCkge1xuICAgIHRoaXMuX2VsZW1lbnQgPSB0aGlzLl9nZXRUZW1wbGF0ZSgpO1xuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgdGhpcy5fc2V0RGVsZXRlQnV0dG9uKCk7XG4gICAgY29uc3QgaW1hZ0luZm9DYXJkID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuY2FyZHNfX2ltYWdlJyk7XG4gICAgdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuY2FyZHNfX25hbWUnKS50ZXh0Q29udGVudCA9IHRoaXMuX25hbWU7XG4gICAgdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRzX19udW1iZXItb2YtbGlrZXNcIikudGV4dENvbnRlbnQgPSB0aGlzLl9saWtlcy5sZW5ndGg7XG4gICAgaW1hZ0luZm9DYXJkLnNyYyA9IHRoaXMuX2xpbms7XG4gICAgaW1hZ0luZm9DYXJkLmFsdCA9IHRoaXMuX25hbWU7XG4gICAgdGhpcy5fbGlrZVN0YXR1cygpO1xuICAgIC8vZGVidWdnZXJcblxuICAgIHJldHVybiB0aGlzLl9lbGVtZW50O1xuICB9XG5cbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmNhcmRzX19saWtlJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PntcbiAgICAgIHRoaXMuX2hhbmRsZUxpa2VDbGljaygpXG4gICAgfSk7XG4gICAgdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuY2FyZHNfX2RlbGV0ZScpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT57XG4gICAgICB0aGlzLl9oYW5kbGVEZWxldGVDbGljaygpO1xuICAgIH0pO1xuICAgIHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmNhcmRzX19pbWFnZScpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlQ2FyZENsaWNrKTtcbiAgfVxuXG4gIF9oYW5kbGVMaWtlQ2xpY2soKSB7XG4gICAgaWYodGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuY2FyZHNfX2xpa2UnKS5jbGFzc0xpc3QuY29udGFpbnMoJ2NhcmRzX19saWtlX2FjdGl2ZScpKSB7XG4gICAgICB0aGlzLl9oYW5kbGVEaXNsaWtlTGlrZUNsaWNrKHRoaXMuX2NhcmRJZCk7XG4gICAgfWVsc2Uge1xuICAgICAgdGhpcy5faGFuZGxlUHV0TGlrZUNsaWNrKHRoaXMuX2NhcmRJZCk7XG4gICAgfVxuICB9XG5cbiAgdG9nZ2xlTGlrZShpdGVtKSB7XG4gICAgdGhpcy5fbGlrZXMgPSBpdGVtLmxpa2VzO1xuICAgIHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmNhcmRzX19saWtlJykuY2xhc3NMaXN0LnRvZ2dsZSgnY2FyZHNfX2xpa2VfYWN0aXZlJyk7XG4gICAgdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRzX19udW1iZXItb2YtbGlrZXNcIikudGV4dENvbnRlbnQgPSB0aGlzLl9saWtlcy5sZW5ndGg7XG4gIH1cblxuICBfbGlrZVN0YXR1cygpIHtcbiAgICBpZih0aGlzLl9saWtlcy5zb21lKChlbGVtZW50KSA9PiBlbGVtZW50Ll9pZCA9PT0gJzQyZDljZDk2MDk3ODNkMWQ4NTY0NjI4MicpKSB7XG4gICAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYXJkc19fbGlrZScpLmNsYXNzTGlzdC5hZGQoJ2NhcmRzX19saWtlX2FjdGl2ZScpO1xuICAgIH1cbiAgfVxuXG5cbiAgX3NldERlbGV0ZUJ1dHRvbigpIHtcbiAgICBjb25zdCBpZENhcmQgPSAnNDJkOWNkOTYwOTc4M2QxZDg1NjQ2MjgyJ1xuICAgIGlmKHRoaXMuX2lkID09PSBpZENhcmQpIHtcbiAgICAgIHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmNhcmRzX19kZWxldGUnKS5jbGFzc0xpc3QuYWRkKCdjYXJkc19fZGVsZXRlX2FjdGl2ZScpO1xuICAgIH1cbiAgfVxuXG4gIGhhbmRsZVJlbW92ZUNsaWNrKCkge1xuICAgIHRoaXMuX2VsZW1lbnQucmVtb3ZlKCk7XG4gIH1cblxufVxuXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBTZWN0aW9uIHtcbiAgY29uc3RydWN0b3IocmVuZGVyZXIsIGNvbnRhaW5lclNlbGVjdG9yKSB7XG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgICB0aGlzLl9jb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNvbnRhaW5lclNlbGVjdG9yKTtcbiAgfVxuXG4gIHJlbmRlckl0ZW0oZGF0YSkge1xuICAgIGRhdGEuZm9yRWFjaChpdGVtID0+IHRoaXMuX3JlbmRlcmVyKGl0ZW0pKTtcbiAgfVxuXG4gIGFkZEl0ZW0oZWxlbWVudCkge1xuICAgIHRoaXMuX2NvbnRhaW5lci5wcmVwZW5kKGVsZW1lbnQpO1xuICB9XG59XG4iLCJleHBvcnQgY29uc3QgaW5pdGlhbENhcmRzID0gW1xuICB7XG4gICAgbmFtZTogJ9CQ0YDRhdGL0LcnLFxuICAgIGxpbms6ICdodHRwczovL3BpY3R1cmVzLnMzLnlhbmRleC5uZXQvZnJvbnRlbmQtZGV2ZWxvcGVyL2NhcmRzLWNvbXByZXNzZWQvYXJraHl6LmpwZydcbiAgfSxcbiAge1xuICAgIG5hbWU6ICfQp9C10LvRj9Cx0LjQvdGB0LrQsNGPINC+0LHQu9Cw0YHRgtGMJyxcbiAgICBsaW5rOiAnaHR0cHM6Ly9waWN0dXJlcy5zMy55YW5kZXgubmV0L2Zyb250ZW5kLWRldmVsb3Blci9jYXJkcy1jb21wcmVzc2VkL2NoZWx5YWJpbnNrLW9ibGFzdC5qcGcnXG4gIH0sXG4gIHtcbiAgICBuYW1lOiAn0JjQstCw0L3QvtCy0L4nLFxuICAgIGxpbms6ICdodHRwczovL3BpY3R1cmVzLnMzLnlhbmRleC5uZXQvZnJvbnRlbmQtZGV2ZWxvcGVyL2NhcmRzLWNvbXByZXNzZWQvaXZhbm92by5qcGcnXG4gIH0sXG4gIHtcbiAgICBuYW1lOiAn0JrQsNC80YfQsNGC0LrQsCcsXG4gICAgbGluazogJ2h0dHBzOi8vcGljdHVyZXMuczMueWFuZGV4Lm5ldC9mcm9udGVuZC1kZXZlbG9wZXIvY2FyZHMtY29tcHJlc3NlZC9rYW1jaGF0a2EuanBnJ1xuICB9LFxuICB7XG4gICAgbmFtZTogJ9Cl0L7Qu9C80L7Qs9C+0YDRgdC60LjQuSDRgNCw0LnQvtC9JyxcbiAgICBsaW5rOiAnaHR0cHM6Ly9waWN0dXJlcy5zMy55YW5kZXgubmV0L2Zyb250ZW5kLWRldmVsb3Blci9jYXJkcy1jb21wcmVzc2VkL2tob2xtb2dvcnNreS1yYXlvbi5qcGcnXG4gIH0sXG4gIHtcbiAgICBuYW1lOiAn0JHQsNC50LrQsNC7JyxcbiAgICBsaW5rOiAnaHR0cHM6Ly9waWN0dXJlcy5zMy55YW5kZXgubmV0L2Zyb250ZW5kLWRldmVsb3Blci9jYXJkcy1jb21wcmVzc2VkL2JhaWthbC5qcGcnXG4gIH1cbl07XG5cbmV4cG9ydCBjb25zdCBmb3JtRWxlbSA9IHtcbiAgaW5wdXRFcnJvcjogJ3BvcHVwX19pbnB1dF90eXBlX2Vycm9yJyxcbiAgaW5wdXRFcnJvckFjdGl2ZTogJ3BvcHVwX19pbnB1dC1lcnJvcl9hY3RpdmUnLFxuICBpbnB1dEZvcm06ICcucG9wdXBfX2lucHV0JyxcbiAgc3VibWl0QnV0dG9uOiAnLnBvcHVwX19idXR0b24nLFxuICBmb3JtOiAnLnBvcHVwX19pbmZvJyxcbiAgc3VibWl0QnV0dG9uSW5hY3RpdmU6ICdwb3B1cF9fYnV0dG9uX2luYWN0aXZlJ1xufVxuXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHNlbGVjdG9yUG9wdXApIHtcbiAgICB0aGlzLl9zZWxlY3RvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3JQb3B1cCk7XG4gICAgdGhpcy5fYnV0dG9uQ2xvc2UgPSB0aGlzLl9zZWxlY3Rvci5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2Nsb3NlJyk7XG4gIH1cblxuICBvcGVuKCkge1xuICAgIHRoaXMuX3NlbGVjdG9yLmNsYXNzTGlzdC5hZGQoJ3BvcHVwX29wZW5lZCcpO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XG4gICAgdGhpcy5fc2VsZWN0b3IuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5faGFuZGxlQ2xpY2tDbG9zZSk7XG4gIH1cblxuICBjbG9zZSgpIHtcbiAgICB0aGlzLl9zZWxlY3Rvci5jbGFzc0xpc3QucmVtb3ZlKCdwb3B1cF9vcGVuZWQnKTtcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xuICAgIHRoaXMuX3NlbGVjdG9yLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMuX2hhbmRsZUNsaWNrQ2xvc2UpO1xuICB9XG5cbiAgX2hhbmRsZUVzY0Nsb3NlID0gKGV2dCkgID0+IHtcbiAgICBpZiAoZXZ0LmtleSA9PT0gXCJFc2NhcGVcIikge1xuICAgICAgdGhpcy5jbG9zZSgpO1xuICAgIH1cbiAgfVxuXG4gIF9oYW5kbGVDbGlja0Nsb3NlID0gKGV2dCkgPT4ge1xuICAgIGlmIChldnQudGFyZ2V0ID09PSBldnQuY3VycmVudFRhcmdldCkge1xuICAgICAgdGhpcy5jbG9zZShldnQuY3VycmVudFRhcmdldCk7XG4gICAgfVxuICB9XG5cbiAgc2V0RXZlbnRMaXN0ZW5lcigpe1xuICAgIHRoaXMuX2J1dHRvbkNsb3NlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgdGhpcy5jbG9zZSgpO1xuICAgIH0pXG4gIH1cbn1cbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhGb3JtIGV4dGVuZHMgUG9wdXAge1xuY29uc3RydWN0b3Ioe3NlbGVjdG9yUG9wdXAsIGhhbmRsZUZvcm1TdWJtaXR9KSB7XG4gICAgc3VwZXIoc2VsZWN0b3JQb3B1cCk7XG4gICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCAgPSBoYW5kbGVGb3JtU3VibWl0O1xuICAgIHRoaXMuX2VsZW1lbnQgPSB0aGlzLl9zZWxlY3Rvci5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2luZm8nKTtcbiAgICB0aGlzLl9idXR0b24gPSB0aGlzLl9zZWxlY3Rvci5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2J1dHRvbicpO1xuICB9XG5cbiAgX2dldElucHV0VmFsdWVzKCkge1xuICAgIHRoaXMuX2lucHV0TGlzdCA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnBvcHVwX19pbnB1dCcpO1xuICAgIHRoaXMuX2Zvcm1WYWx1ZXMgPSB7fTtcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXQpID0+IHtcbiAgICAgIHRoaXMuX2Zvcm1WYWx1ZXNbaW5wdXQubmFtZV0gPSAgaW5wdXQudmFsdWU7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gdGhpcy5fZm9ybVZhbHVlcztcbiAgfVxuXG4gIHNldEV2ZW50TGlzdGVuZXIoKSB7XG4gICAgdGhpcy5fZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCAoZXZ0KSA9PiB7XG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQodGhpcy5fZ2V0SW5wdXRWYWx1ZXMoKSk7XG4gICAgfSk7XG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcigpO1xuICB9XG5cbiAgY2xvc2UoKSB7XG4gICAgdGhpcy5fZWxlbWVudC5yZXNldCgpO1xuICAgIHN1cGVyLmNsb3NlKCk7XG4gIH1cblxuICBsb2FkaW5nKCkge1xuICAgIHRoaXMuX2J1dHRvbi50ZXh0Q29udGVudCA9IFwi0KHQvtGF0YDQsNC90LXQvdC40LUuLi5cIjtcbiAgfVxuXG4gIGxvYWRpbmdFbmQodGV4dCkge1xuICAgIHRoaXMuX2J1dHRvbi50ZXh0Q29udGVudCA9IHRleHQ7XG4gIH1cblxufVxuXG5cblxuXG5cbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcbiAgY29uc3RydWN0b3Ioc2VsZWN0b3JQb3B1cCkge1xuICAgIHN1cGVyKHNlbGVjdG9yUG9wdXApO1xuICAgIHRoaXMuX2ltYWdlID0gdGhpcy5fc2VsZWN0b3IucXVlcnlTZWxlY3RvcignLnBvcHVwX19pbWcnKTtcbiAgICB0aGlzLl9uYW1lID0gdGhpcy5fc2VsZWN0b3IucXVlcnlTZWxlY3RvcignLnBvcHVwX190aXRsZS1wbGFjZScpO1xuICB9XG5cbiAgb3Blbih7bmFtZSwgbGlua30pIHtcbiAgICB0aGlzLl9pbWFnZS5zcmMgPSBsaW5rO1xuICAgIHRoaXMuX2ltYWdlLmFsdCA9IG5hbWU7XG4gICAgdGhpcy5fbmFtZS50ZXh0Q29udGVudCA9IG5hbWU7XG5cbiAgICBzdXBlci5vcGVuKCk7XG4gIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFVzZXJJbmZvIHtcbiAgY29uc3RydWN0b3Ioe25hbWUsIGFib3V0LCBhdmF0YXJ9KSB7XG4gICAgdGhpcy5fbmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobmFtZSk7XG4gICAgdGhpcy5fcHJvZmVzc2lvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYWJvdXQpO1xuICAgIHRoaXMuX2F2YXRhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYXZhdGFyKTtcbiAgICB0aGlzLl9pbnB1dE5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2lucHV0X3R5cGVfbmFtZScpO1xuICAgIHRoaXMuX2lucHV0UHJvZmVzc2lvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9faW5wdXRfdHlwZV9hYm91dCcpO1xuICB9XG5cbiAgZ2V0VXNlckluZm8oKSB7XG4gICAgcmV0dXJue1xuICAgICAgbmFtZTogdGhpcy5faW5wdXROYW1lLnZhbHVlID0gdGhpcy5fbmFtZS50ZXh0Q29udGVudCxcbiAgICAgIGFib3V0OiB0aGlzLl9pbnB1dFByb2Zlc3Npb24udmFsdWUgPSB0aGlzLl9wcm9mZXNzaW9uLnRleHRDb250ZW50XG4gICAgfTtcbiAgfVxuXG4gIHNldFVzZXJJbmZvKHtuYW1lLCBhYm91dCwgYXZhdGFyfSkge1xuICAgIHRoaXMuX25hbWUudGV4dENvbnRlbnQgPSBuYW1lO1xuICAgIHRoaXMuX3Byb2Zlc3Npb24udGV4dENvbnRlbnQgPSBhYm91dDtcbiAgICB0aGlzLl9hdmF0YXIuc3JjID0gYXZhdGFyO1xuICB9XG59XG4iLCJleHBvcnQgY2xhc3MgRm9ybVZhbGlkYXRvciB7XG4gIGNvbnN0cnVjdG9yKGNvbmZpZywgZGF0YSkge1xuICAgIHRoaXMuX2Zvcm0gPSBjb25maWcuZm9ybTtcbiAgICB0aGlzLl9pbnB1dEVycm9yID0gY29uZmlnLmlucHV0RXJyb3JcbiAgICB0aGlzLl9pbnB1dEVycm9yQWN0aXZlID0gY29uZmlnLmlucHV0RXJyb3JBY3RpdmVcbiAgICB0aGlzLl9pbnB1dEZvcm0gPSBjb25maWcuaW5wdXRGb3JtXG4gICAgdGhpcy5fc3VibWl0QnV0dG9uID0gY29uZmlnLnN1Ym1pdEJ1dHRvblxuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbkluYWN0aXZlID0gY29uZmlnLnN1Ym1pdEJ1dHRvbkluYWN0aXZlXG4gICAgdGhpcy5fZGF0YSA9IGRhdGE7XG4gICAgdGhpcy5faW5wdXRMaXN0ID0gQXJyYXkuZnJvbSh0aGlzLl9kYXRhLnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5faW5wdXRGb3JtKSk7XG4gICAgdGhpcy5fYnV0dG9uRWxlbWVudCA9IHRoaXMuX2RhdGEucXVlcnlTZWxlY3Rvcih0aGlzLl9zdWJtaXRCdXR0b24pO1xuICB9O1xuXG4gIF9zaG93SW5wdXRFcnJvciA9IChpbnB1dEVsZW1lbnQsIGVycm9yTWVzc2FnZSkgPT4ge1xuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuX2RhdGEucXVlcnlTZWxlY3RvcihgLiR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmApO1xuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2lucHV0RXJyb3IpO1xuICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IGVycm9yTWVzc2FnZTtcbiAgICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9pbnB1dEVycm9yQWN0aXZlKTtcbiAgfTtcblxuICBfaGlkZUlucHV0RXJyb3IgPSAoaW5wdXRFbGVtZW50KSA9PiB7XG4gICAgY29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy5fZGF0YS5xdWVyeVNlbGVjdG9yKGAuJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYCk7XG4gICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5wdXRFcnJvcik7XG4gICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5wdXRFcnJvckFjdGl2ZSk7XG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gJyc7XG4gIH07XG5cbiAgX2lzVmFsaWQgPSAoaW5wdXRFbGVtZW50KSA9PiB7XG4gICAgaWYgKCFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQpIHtcbiAgICAgIHRoaXMuX3Nob3dJbnB1dEVycm9yKGlucHV0RWxlbWVudCwgaW5wdXRFbGVtZW50LnZhbGlkYXRpb25NZXNzYWdlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcbiAgICB9XG4gIH07XG5cbiAgX3NldEV2ZW50TGlzdGVuZXJzID0gKCkgPT4ge1xuICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xuICAgICAgaW5wdXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xuICAgICAgICB0aGlzLl9pc1ZhbGlkKGlucHV0RWxlbWVudCk7XG4gICAgICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfTtcblxuICBlbmFibGVWYWxpZGF0aW9uID0gKCkgPT4ge1xuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XG4gIH07XG5cbiAgX2hhc0ludmFsaWRJbnB1dCA9ICgpID0+IHtcbiAgICByZXR1cm4gdGhpcy5faW5wdXRMaXN0LnNvbWUoKGlucHV0RWxlbWVudCkgPT4ge1xuXG4gICAgICByZXR1cm4gIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZDtcbiAgICB9KVxuICB9O1xuXG4gIF9lbmFibGVkQnV0dG9uUGxhY2UgPSAoKSA9PiB7XG4gICAgdGhpcy5fYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX3N1Ym1pdEJ1dHRvbkluYWN0aXZlKTtcbiAgICB0aGlzLl9idXR0b25FbGVtZW50LmRpc2FibGVkID0gZmFsc2U7XG4gIH07XG5cbiAgZGlzYWJsZWRCdXR0b25QbGFjZSA9ICgpID0+IHtcbiAgICB0aGlzLl9idXR0b25FbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fc3VibWl0QnV0dG9uSW5hY3RpdmUpO1xuICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuZGlzYWJsZWQgPSB0cnVlO1xuICB9O1xuXG4gIF90b2dnbGVCdXR0b25TdGF0ZSA9ICgpID0+IHtcbiAgICBpZiAodGhpcy5faGFzSW52YWxpZElucHV0KCkpIHtcbiAgICAgIHRoaXMuZGlzYWJsZWRCdXR0b25QbGFjZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9lbmFibGVkQnV0dG9uUGxhY2UoKTtcbiAgICB9XG4gIH07XG59XG5cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEFwaSB7XG4gIGNvbnN0cnVjdG9yKGNvbmZpZykge1xuICAgIHRoaXMuX3VybCA9IGNvbmZpZy51cmw7XG4gICAgdGhpcy5faGVhZGVycyA9IGNvbmZpZy5oZWFkZXJzO1xuICB9XG5cbiAgZ2V0VXNlckluZm8oKSB7XG4gICAgcmV0dXJuIGZldGNoKHRoaXMuX3VybCwge1xuICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnNcbiAgICB9KS50aGVuKChyZXMpID0+IHtcbiAgICAgIGlmIChyZXMub2spIHtcbiAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYNCe0YjQuNCx0LrQsDogJHtyZXMuc3RhdHVzfWApO1xuICAgIH0pXG4gIH1cblxuICBnZXRBbGxDYXJkcygpIHtcbiAgICByZXR1cm4gZmV0Y2godGhpcy5fdXJsLCB7XG4gICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVyc1xuICAgIH0pLnRoZW4oKHJlcykgPT4ge1xuICAgICAgaWYgKHJlcy5vaykge1xuICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChg0J7RiNC40LHQutCwOiAke3Jlcy5zdGF0dXN9YCk7XG4gICAgfSlcbiAgfVxuXG4gIGVkaXRVc2VySW5mbyhkYXRhKSB7XG4gICAgcmV0dXJuIGZldGNoKHRoaXMuX3VybCwge1xuICAgICAgbWV0aG9kOiAnUEFUQ0gnLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGRhdGEpXG4gICAgfSkudGhlbigocmVzKSA9PiB7XG4gICAgICBpZiAocmVzLm9rKSB7XG4gICAgICAgIHJldHVybiByZXMuanNvbigpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGDQntGI0LjQsdC60LA6ICR7cmVzLnN0YXR1c31gKTtcbiAgICB9KVxuICB9XG5cbiAgZWRpdFVzZXJBdmF0YXIoZGF0YSkge1xuICAgIHJldHVybiBmZXRjaCh0aGlzLl91cmwsIHtcbiAgICAgIG1ldGhvZDogJ1BBVENIJyxcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShkYXRhKVxuICAgIH0pLnRoZW4oKHJlcykgPT4ge1xuICAgICAgaWYgKHJlcy5vaykge1xuICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChg0J7RiNC40LHQutCwOiAke3Jlcy5zdGF0dXN9YCk7XG4gICAgfSlcbiAgfVxuXG4gIGFkZE5ld1BsYWNlKGRhdGEpIHtcbiAgICByZXR1cm4gZmV0Y2godGhpcy5fdXJsLCB7XG4gICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShkYXRhKVxuICAgIH0pLnRoZW4oKHJlcykgPT57XG4gICAgICBpZiAocmVzLm9rKSB7XG4gICAgICAgIHJldHVybiByZXMuanNvbigpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGDQntGI0LjQsdC60LA6ICR7cmVzLnN0YXR1c31gKTtcbiAgICB9KVxuICB9XG5cbiAgZGVsZXRlQ2FyZChpZCkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl91cmx9JHtpZH1gLHtcbiAgICAgIG1ldGhvZDogJ0RFTEVURScsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzXG4gICAgICB9KS50aGVuKChyZXMpID0+e1xuICAgICAgICBpZiAocmVzLm9rKSB7XG4gICAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGDQntGI0LjQsdC60LA6ICR7cmVzLnN0YXR1c31gKTtcbiAgICAgIH0pXG4gIH1cblxuICBwdXRMaWtlKGlkKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX3VybH0ke2lkfS9saWtlc2AsIHtcbiAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzXG4gICAgfSkudGhlbigocmVzKSA9PntcbiAgICAgIGlmIChyZXMub2spIHtcbiAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYNCe0YjQuNCx0LrQsDogJHtyZXMuc3RhdHVzfWApO1xuICAgIH0pXG4gIH1cblxuICBkZWxldGVMaWtlKGlkKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX3VybH0ke2lkfS9saWtlc2AsIHtcbiAgICAgIG1ldGhvZDogJ0RFTEVURScsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzXG4gICAgfSkudGhlbigocmVzKSA9PntcbiAgICAgIGlmIChyZXMub2spIHtcbiAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYNCe0YjQuNCx0LrQsDogJHtyZXMuc3RhdHVzfWApO1xuICAgIH0pXG4gIH1cblxufVxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aERlbGV0ZUZvcm0gZXh0ZW5kcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHNlbGVjdG9yUG9wdXApIHtcbiAgICBzdXBlcihzZWxlY3RvclBvcHVwKTtcbiAgICB0aGlzLl9lbGVtZW50ID0gdGhpcy5fc2VsZWN0b3IucXVlcnlTZWxlY3RvcignLnBvcHVwX19pbmZvJyk7XG4gIH1cblxuICBzZXRFdmVudExpc3RlbmVyKCkge1xuICAgIHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX19idXR0b25fZGVsZXRlJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZ0KSA9PiB7XG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHRoaXMuX2hhbmRsZVN1Ym1pdENhbGxiYWNrKCk7XG4gICAgfSlcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVyKCk7XG4gIH1cblxuICBzZXRTdWJtaXRBY3Rpb24oaXRlbSkge1xuICAgIHRoaXMuX2hhbmRsZVN1Ym1pdENhbGxiYWNrID0gaXRlbTtcbiAgfVxufVxuXG4iLCJpbXBvcnQge0NhcmR9IGZyb20gJy4uL2NvbXBvbmVudHMvQ2FyZC5qcyc7XG5pbXBvcnQgU2VjdGlvbiBmcm9tICcuLi9jb21wb25lbnRzL1NlY3Rpb24uanMnO1xuaW1wb3J0IHtmb3JtRWxlbSwgaW5pdGlhbENhcmRzfSBmcm9tICcuLi91dGlscy9jb25zdGFudHMuanMnO1xuaW1wb3J0IFBvcHVwV2l0aEZvcm0gZnJvbSAnLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzJztcbmltcG9ydCBQb3B1cFdpdGhJbWFnZSBmcm9tICcuLi9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzJ1xuaW1wb3J0IFVzZXJJbmZvIGZyb20gJy4uL2NvbXBvbmVudHMvVXNlckluZm8uanMnO1xuaW1wb3J0IHtGb3JtVmFsaWRhdG9yfSBmcm9tICcuLi9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMnO1xuaW1wb3J0ICcuLi9wYWdlcy9pbmRleC5jc3MnO1xuaW1wb3J0IEFwaSBmcm9tICcuLi9jb21wb25lbnRzL0FwaS5qcyc7XG5pbXBvcnQgUG9wdXBXaXRoRGVsZXRlRm9ybSBmcm9tICcuLi9jb21wb25lbnRzL1BvcHVwV2l0aERlbGV0ZUZvcm0uanMnO1xuXG5mdW5jdGlvbiBhcGkoaXRlbSkge1xuICBjb25zdCBhcGkgPSBuZXcgQXBpKHtcbiAgICB1cmw6IGl0ZW0sXG4gICAgaGVhZGVyczoge1xuICAgICAgYXV0aG9yaXphdGlvbjogJzVjMGQyM2ZmLTJmNTktNGJjMi1hNmVmLWY3NzJjMzhmOWU4OCcsXG4gICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXG4gICAgfVxuICB9KVxuICByZXR1cm4gYXBpO1xufVxuXG5jb25zdCBhcGlVc2VyID0gYXBpKFwiaHR0cHM6Ly9ub21vcmVwYXJ0aWVzLmNvL3YxL2NvaG9ydC00MS91c2Vycy9tZVwiKTtcbmFwaVVzZXIuZ2V0VXNlckluZm8oKVxuLnRoZW4oKGl0ZW0pID0+IHtcbiAgcHJvZmlsZS5zZXRVc2VySW5mbyhpdGVtKTtcbn0pLmNhdGNoKChlcnIpID0+IHtcbiAgY29uc29sZS5sb2coZXJyKTtcbn0pO1xuXG5jb25zdCBhcGlDYXJkID0gYXBpKFwiaHR0cHM6Ly9tZXN0by5ub21vcmVwYXJ0aWVzLmNvL3YxL2NvaG9ydC00MS9jYXJkc1wiKTtcbmFwaUNhcmQuZ2V0QWxsQ2FyZHMoKVxuLnRoZW4oKGRhdGEpID0+IHtcbiAgY2FyZExpc3QucmVuZGVySXRlbShkYXRhKTtcbn0pLmNhdGNoKChlcnIpID0+IHtcbiAgY29uc29sZS5sb2coZXJyKTtcbn0pO1xuXG5jb25zdCBhcGlMaWtlID0gYXBpKFwiaHR0cHM6Ly9tZXN0by5ub21vcmVwYXJ0aWVzLmNvL3YxL2NvaG9ydC00MS9jYXJkcy9cIilcbmNvbnN0IGFwaURlbGV0ZUNhcmQgPSBhcGkoXCJodHRwczovL21lc3RvLm5vbW9yZXBhcnRpZXMuY28vdjEvY29ob3J0LTQxL2NhcmRzL1wiKVxuZnVuY3Rpb24gcmVuZGVyQ2FyZChpdGVtKSB7XG4gIGNvbnN0IGNhcmQgPSBuZXcgQ2FyZChpdGVtLCAnLmNhcmQtdGVtcGxhdGVfdHlwZV9kZWZhdWx0JywgKCkgPT4ge1xuICAgIGltZ0l0ZW0ub3BlbihpdGVtKTtcbiAgfSwgKGl0ZW0pID0+IHtcbiAgICBmb3JtRGVsZXRlLm9wZW4oKTtcbiAgICBmb3JtRGVsZXRlLnNldFN1Ym1pdEFjdGlvbigoKSA9PiB7XG4gICAgICBhcGlEZWxldGVDYXJkLmRlbGV0ZUNhcmQoaXRlbSlcbiAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgY2FyZC5oYW5kbGVSZW1vdmVDbGljaygpO1xuICAgICAgICBmb3JtRGVsZXRlLmNsb3NlKCk7XG4gICAgICB9KS5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICB9KTtcbiAgICB9KVxuICB9LCAoaXRlbSkgPT4ge1xuICAgIGFwaUxpa2UucHV0TGlrZShpdGVtKVxuICAgIC50aGVuKChpdGVtKSA9PntcbiAgICAgIGNhcmQudG9nZ2xlTGlrZShpdGVtKTtcbiAgICB9KVxuICB9LCAoaXRlbSkgPT4ge1xuICAgIGFwaUxpa2UuZGVsZXRlTGlrZShpdGVtKVxuICAgIC50aGVuKChpdGVtKSA9PiB7XG4gICAgICBjYXJkLnRvZ2dsZUxpa2UoaXRlbSk7XG4gICAgfSkuY2F0Y2goKGVycikgPT4ge1xuICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICB9KTtcbiAgfVxuICApXG4gIHJldHVybiBjYXJkLmNyZWF0ZUNhcmQoKTtcbn1cblxuY29uc3QgY2FyZExpc3QgPSBuZXcgU2VjdGlvbihcbiAgKGl0ZW0pID0+IHtcbiAgICBjYXJkTGlzdC5hZGRJdGVtKHJlbmRlckNhcmQoaXRlbSkpO1xuICB9LFxuICAgJy5jYXJkcycpO1xuXG5jb25zdCBpbWdJdGVtID0gbmV3IFBvcHVwV2l0aEltYWdlKCcucG9wdXBfaW1hZ2UnKTtcblxuaW1nSXRlbS5zZXRFdmVudExpc3RlbmVyKCk7XG5cbmNvbnN0IGZvcm1BZGQgPSBuZXcgUG9wdXBXaXRoRm9ybSh7XG4gIHNlbGVjdG9yUG9wdXA6ICcucG9wdXBfYWRkJyxcbiAgaGFuZGxlRm9ybVN1Ym1pdDogKGRhdGEpID0+IHtcbiAgICBmb3JtQWRkLmxvYWRpbmcoKTtcbiAgICBhcGlDYXJkLmFkZE5ld1BsYWNlKGRhdGEpXG4gICAgLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgIC8vZm9ybUFkZC5sb2FkaW5nKCk7XG4gICAgICBjYXJkTGlzdC5hZGRJdGVtKHJlbmRlckNhcmQoZGF0YSkpO1xuICAgICAgZm9ybUFkZC5jbG9zZSgpXG4gICAgfSkuY2F0Y2goKGVycikgPT4ge1xuICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICB9KS5maW5hbGx5KCgpID0+e1xuICAgICAgZm9ybUFkZC5sb2FkaW5nRW5kKCfQodC+0LfQtNCw0YLRjCcpXG4gICAgfSlcbiAgfVxufSk7XG5cbmZvcm1BZGQuc2V0RXZlbnRMaXN0ZW5lcigpO1xuXG5jb25zdCBhcGlBdmF0YXIgPSBhcGkoJ2h0dHBzOi8vbWVzdG8ubm9tb3JlcGFydGllcy5jby92MS9jb2hvcnQtNDEvdXNlcnMvbWUvYXZhdGFyJylcbmNvbnN0IGZvcm1BdmF0YXIgPSBuZXcgUG9wdXBXaXRoRm9ybSh7XG4gIHNlbGVjdG9yUG9wdXA6ICcucG9wdXBfYXZhdGFyJyxcbiAgaGFuZGxlRm9ybVN1Ym1pdDogKGRhdGEpID0+IHtcbiAgICBmb3JtQXZhdGFyLmxvYWRpbmcoKTtcbiAgICBhcGlBdmF0YXIuZWRpdFVzZXJBdmF0YXIoZGF0YSlcbiAgICAudGhlbigoZGF0YSkgPT4ge1xuICAgICAgcHJvZmlsZS5zZXRVc2VySW5mbyhkYXRhKTtcbiAgICAgIGZvcm1BdmF0YXIuY2xvc2UoKTtcbiAgICB9KS5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgIH0pLmZpbmFsbHkoKCkgPT57XG4gICAgICBmb3JtQXZhdGFyLmxvYWRpbmdFbmQoJ9Ch0L7RhdGA0LDQvdC40YLRjCcpXG4gICAgfSlcbiAgfVxufSlcblxuZm9ybUF2YXRhci5zZXRFdmVudExpc3RlbmVyKCk7XG5cbmNvbnN0IHByb2ZpbGUgPSBuZXcgVXNlckluZm8oe25hbWU6ICcucHJvZmlsZV9fbmFtZScsIGFib3V0OicucHJvZmlsZV9fYWJvdXQtbWUnLCBhdmF0YXI6ICcucHJvZmlsZV9fYXZhdGFyJ30pO1xuXG5jb25zdCBhcGlVc2VyRWRpdCA9IGFwaShcImh0dHBzOi8vbWVzdG8ubm9tb3JlcGFydGllcy5jby92MS9jb2hvcnQtNDEvdXNlcnMvbWVcIilcbmNvbnN0IGZvcm1FZGl0ID0gbmV3IFBvcHVwV2l0aEZvcm0oe1xuICBzZWxlY3RvclBvcHVwOiAnLnBvcHVwX2VkaXQnLFxuICBoYW5kbGVGb3JtU3VibWl0OiAoZGF0YSkgPT4ge1xuICAgIGZvcm1FZGl0LmxvYWRpbmcoKTtcbiAgICBhcGlVc2VyRWRpdC5lZGl0VXNlckluZm8oZGF0YSlcbiAgICAudGhlbigoZGF0YSkgPT4ge1xuICAgICAgcHJvZmlsZS5zZXRVc2VySW5mbyhkYXRhKTtcbiAgICAgIGZvcm1FZGl0LmNsb3NlKCk7XG4gICAgfSkuY2F0Y2goKGVycikgPT4ge1xuICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICB9KS5maW5hbGx5KCgpID0+e1xuICAgICAgZm9ybUVkaXQubG9hZGluZ0VuZCgn0KHQvtGF0YDQsNC90LjRgtGMJylcbiAgICB9KVxuICB9XG59KVxuXG5mb3JtRWRpdC5zZXRFdmVudExpc3RlbmVyKCk7XG5cbmNvbnN0IGZvcm1EZWxldGUgPSBuZXcgUG9wdXBXaXRoRGVsZXRlRm9ybSgnLnBvcHVwX2RlbGV0ZS1pbWFnZScpXG5cbmZvcm1EZWxldGUuc2V0RXZlbnRMaXN0ZW5lcigpO1xuXG5cbmNvbnN0IGJ1dHRvbk9wZW5BZGQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fYWRkLWJ1dHRvbicpO1xuYnV0dG9uT3BlbkFkZC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgZm9ybUFkZC5vcGVuKCk7XG4gIHZhbGlkRm9ybUFkZC5kaXNhYmxlZEJ1dHRvblBsYWNlKCk7XG59KVxuXG5jb25zdCBidXR0b25PcGVuRWRpdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19lZGl0LWJ1dHRvbicpO1xuYnV0dG9uT3BlbkVkaXQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gIHByb2ZpbGUuZ2V0VXNlckluZm8oKTtcbiAgZm9ybUVkaXQub3BlbigpO1xufSlcblxuY29uc3QgY2xpY2tPcGVuQXZhdGFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2F2YXRhci1idXR0b24nKTtcbmNsaWNrT3BlbkF2YXRhci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgZm9ybUF2YXRhci5vcGVuKCk7XG59KVxuXG5cbmNvbnN0IGZvcm1QbGFjZUVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2luZm9fYWRkJyk7XG5jb25zdCBmb3JtUHJvZmlsZUVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2luZm9fZWRpdCcpO1xuY29uc3QgZm9ybUF2YXRhckVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2luZm9fYXZhdGFyJyk7XG5jb25zdCB2YWxpZEZvcm1FZGl0ID0gbmV3IEZvcm1WYWxpZGF0b3IoZm9ybUVsZW0sIGZvcm1Qcm9maWxlRWxlbWVudCk7XG52YWxpZEZvcm1FZGl0LmVuYWJsZVZhbGlkYXRpb24oKTtcbmNvbnN0IHZhbGlkRm9ybUFkZCA9IG5ldyBGb3JtVmFsaWRhdG9yKGZvcm1FbGVtLCBmb3JtUGxhY2VFbGVtZW50KTtcbnZhbGlkRm9ybUFkZC5lbmFibGVWYWxpZGF0aW9uKCk7XG5jb25zdCB2YWxpZEZvcm1BdmF0YXIgPSBuZXcgRm9ybVZhbGlkYXRvcihmb3JtRWxlbSwgZm9ybUF2YXRhckVsZW1lbnQpO1xudmFsaWRGb3JtQXZhdGFyLmVuYWJsZVZhbGlkYXRpb24oKTtcbiJdLCJuYW1lcyI6WyJDYXJkIiwiY2FyZFNlbGVjdG9yIiwiaGFuZGxlQ2FyZENsaWNrIiwiaGFuZGxlRGVsZXRlQ2xpY2siLCJoYW5kbGVQdXRMaWtlQ2xpY2siLCJoYW5kbGVEaXNsaWtlTGlrZUNsaWNrIiwibmFtZSIsImxpbmsiLCJsaWtlcyIsIm93bmVyIiwiX2lkIiwidGhpcyIsIl9uYW1lIiwiX2xpbmsiLCJfbGlrZXMiLCJfY2FyZElkIiwiX2NhcmRTZWxlY3RvciIsIl9oYW5kbGVDYXJkQ2xpY2siLCJfaGFuZGxlRGVsZXRlQ2xpY2siLCJfaGFuZGxlUHV0TGlrZUNsaWNrIiwiX2hhbmRsZURpc2xpa2VMaWtlQ2xpY2siLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJjb250ZW50IiwiY2xvbmVOb2RlIiwiX2VsZW1lbnQiLCJfZ2V0VGVtcGxhdGUiLCJfc2V0RXZlbnRMaXN0ZW5lcnMiLCJfc2V0RGVsZXRlQnV0dG9uIiwiaW1hZ0luZm9DYXJkIiwidGV4dENvbnRlbnQiLCJsZW5ndGgiLCJzcmMiLCJhbHQiLCJfbGlrZVN0YXR1cyIsImFkZEV2ZW50TGlzdGVuZXIiLCJfaGFuZGxlTGlrZUNsaWNrIiwiY2xhc3NMaXN0IiwiY29udGFpbnMiLCJpdGVtIiwidG9nZ2xlIiwic29tZSIsImVsZW1lbnQiLCJhZGQiLCJyZW1vdmUiLCJTZWN0aW9uIiwicmVuZGVyZXIiLCJjb250YWluZXJTZWxlY3RvciIsIl9yZW5kZXJlciIsIl9jb250YWluZXIiLCJkYXRhIiwiZm9yRWFjaCIsInByZXBlbmQiLCJmb3JtRWxlbSIsImlucHV0RXJyb3IiLCJpbnB1dEVycm9yQWN0aXZlIiwiaW5wdXRGb3JtIiwic3VibWl0QnV0dG9uIiwiZm9ybSIsInN1Ym1pdEJ1dHRvbkluYWN0aXZlIiwiUG9wdXAiLCJzZWxlY3RvclBvcHVwIiwiZXZ0Iiwia2V5IiwiY2xvc2UiLCJ0YXJnZXQiLCJjdXJyZW50VGFyZ2V0IiwiX3NlbGVjdG9yIiwiX2J1dHRvbkNsb3NlIiwiX2hhbmRsZUVzY0Nsb3NlIiwiX2hhbmRsZUNsaWNrQ2xvc2UiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiUG9wdXBXaXRoRm9ybSIsImhhbmRsZUZvcm1TdWJtaXQiLCJfaGFuZGxlRm9ybVN1Ym1pdCIsIl9idXR0b24iLCJfaW5wdXRMaXN0IiwicXVlcnlTZWxlY3RvckFsbCIsIl9mb3JtVmFsdWVzIiwiaW5wdXQiLCJ2YWx1ZSIsInByZXZlbnREZWZhdWx0IiwiX2dldElucHV0VmFsdWVzIiwicmVzZXQiLCJ0ZXh0IiwiUG9wdXBXaXRoSW1hZ2UiLCJfaW1hZ2UiLCJVc2VySW5mbyIsImFib3V0IiwiYXZhdGFyIiwiX3Byb2Zlc3Npb24iLCJfYXZhdGFyIiwiX2lucHV0TmFtZSIsIl9pbnB1dFByb2Zlc3Npb24iLCJGb3JtVmFsaWRhdG9yIiwiY29uZmlnIiwiaW5wdXRFbGVtZW50IiwiZXJyb3JNZXNzYWdlIiwiZXJyb3JFbGVtZW50IiwiX2RhdGEiLCJpZCIsIl9pbnB1dEVycm9yIiwiX2lucHV0RXJyb3JBY3RpdmUiLCJ2YWxpZGl0eSIsInZhbGlkIiwiX2hpZGVJbnB1dEVycm9yIiwiX3Nob3dJbnB1dEVycm9yIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJfdG9nZ2xlQnV0dG9uU3RhdGUiLCJfaXNWYWxpZCIsIl9idXR0b25FbGVtZW50IiwiX3N1Ym1pdEJ1dHRvbkluYWN0aXZlIiwiZGlzYWJsZWQiLCJfaGFzSW52YWxpZElucHV0IiwiZGlzYWJsZWRCdXR0b25QbGFjZSIsIl9lbmFibGVkQnV0dG9uUGxhY2UiLCJfZm9ybSIsIl9pbnB1dEZvcm0iLCJfc3VibWl0QnV0dG9uIiwiQXJyYXkiLCJmcm9tIiwiQXBpIiwiX3VybCIsInVybCIsIl9oZWFkZXJzIiwiaGVhZGVycyIsImZldGNoIiwibWV0aG9kIiwidGhlbiIsInJlcyIsIm9rIiwianNvbiIsIlByb21pc2UiLCJyZWplY3QiLCJzdGF0dXMiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsIlBvcHVwV2l0aERlbGV0ZUZvcm0iLCJfaGFuZGxlU3VibWl0Q2FsbGJhY2siLCJhcGkiLCJhdXRob3JpemF0aW9uIiwiZ2V0VXNlckluZm8iLCJwcm9maWxlIiwic2V0VXNlckluZm8iLCJjYXRjaCIsImVyciIsImNvbnNvbGUiLCJsb2ciLCJhcGlDYXJkIiwiZ2V0QWxsQ2FyZHMiLCJjYXJkTGlzdCIsInJlbmRlckl0ZW0iLCJhcGlMaWtlIiwiYXBpRGVsZXRlQ2FyZCIsInJlbmRlckNhcmQiLCJjYXJkIiwiaW1nSXRlbSIsIm9wZW4iLCJmb3JtRGVsZXRlIiwic2V0U3VibWl0QWN0aW9uIiwiZGVsZXRlQ2FyZCIsImhhbmRsZVJlbW92ZUNsaWNrIiwicHV0TGlrZSIsInRvZ2dsZUxpa2UiLCJkZWxldGVMaWtlIiwiY3JlYXRlQ2FyZCIsImFkZEl0ZW0iLCJzZXRFdmVudExpc3RlbmVyIiwiZm9ybUFkZCIsImxvYWRpbmciLCJhZGROZXdQbGFjZSIsImZpbmFsbHkiLCJsb2FkaW5nRW5kIiwiYXBpQXZhdGFyIiwiZm9ybUF2YXRhciIsImVkaXRVc2VyQXZhdGFyIiwiYXBpVXNlckVkaXQiLCJmb3JtRWRpdCIsImVkaXRVc2VySW5mbyIsInZhbGlkRm9ybUFkZCIsImZvcm1QbGFjZUVsZW1lbnQiLCJmb3JtUHJvZmlsZUVsZW1lbnQiLCJmb3JtQXZhdGFyRWxlbWVudCIsImVuYWJsZVZhbGlkYXRpb24iXSwic291cmNlUm9vdCI6IiJ9
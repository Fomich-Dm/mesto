!function(){"use strict";function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var t=function(){function t(e,n,r,o,i,c){var u=e.name,a=e.link,s=e.likes,l=e.owner,f=e._id;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this._name=u,this._link=a,this._likes=s,this._id=l._id,this._cardId=f,this._cardSelector=n,this._handleCardClick=r,this._handleDeleteClick=o,this._handlePutLikeClick=i,this._handleDislikeLikeClick=c}var n,r;return n=t,(r=[{key:"_getTemplate",value:function(){return document.querySelector(this._cardSelector).content.querySelector(".cards__item").cloneNode(!0)}},{key:"createCard",value:function(){this._element=this._getTemplate(),this._setEventListeners(),this._setDeleteButton();var e=this._element.querySelector(".cards__image");return this._element.querySelector(".cards__name").textContent=this._name,this._element.querySelector(".cards__number-of-likes").textContent=this._likes.length,e.src=this._link,e.alt=this._name,this._likeStatus(),this._element}},{key:"_setEventListeners",value:function(){var e=this;this._element.querySelector(".cards__like").addEventListener("click",(function(){e._handleLikeClick()})),this._element.querySelector(".cards__delete").addEventListener("click",(function(){e._handleDeleteClick(e._cardId)})),this._element.querySelector(".cards__image").addEventListener("click",this._handleCardClick)}},{key:"_handleLikeClick",value:function(){this._element.querySelector(".cards__like").classList.contains("cards__like_active")?this._handleDislikeLikeClick(this._cardId):this._handlePutLikeClick(this._cardId)}},{key:"toggleLike",value:function(e){this._likes=e.likes,this._element.querySelector(".cards__like").classList.toggle("cards__like_active"),this._element.querySelector(".cards__number-of-likes").textContent=this._likes.length}},{key:"_likeStatus",value:function(){this._likes.some((function(e){return"42d9cd9609783d1d85646282"===e._id}))&&this._element.querySelector(".cards__like").classList.add("cards__like_active")}},{key:"_setDeleteButton",value:function(){"42d9cd9609783d1d85646282"===this._id&&this._element.querySelector(".cards__delete").classList.add("cards__delete_active")}},{key:"handleRemoveClick",value:function(){this._element.remove()}}])&&e(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),t}();function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var r=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._renderer=t,this._container=document.querySelector(n)}var t,r;return t=e,(r=[{key:"renderItem",value:function(e){var t=this;e.forEach((function(e){return t._renderer(e)}))}},{key:"addItem",value:function(e){this._container.prepend(e)}}])&&n(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),o={inputError:"popup__input_type_error",inputErrorActive:"popup__input-error_active",inputForm:".popup__input",submitButton:".popup__button",form:".popup__info",submitButtonInactive:"popup__button_inactive"};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),c(this,"_handleEscClose",(function(e){"Escape"===e.key&&n.close()})),c(this,"_handleClickClose",(function(e){e.target===e.currentTarget&&n.close(e.currentTarget)})),this._selector=document.querySelector(t),this._buttonClose=this._selector.querySelector(".popup__close")}var t,n;return t=e,(n=[{key:"open",value:function(){this._selector.classList.add("popup_opened"),document.addEventListener("keydown",this._handleEscClose),this._selector.addEventListener("mousedown",this._handleClickClose)}},{key:"close",value:function(){this._selector.classList.remove("popup_opened"),document.removeEventListener("keydown",this._handleEscClose),this._selector.removeEventListener("mousedown",this._handleClickClose)}},{key:"setEventListener",value:function(){var e=this;this._buttonClose.addEventListener("click",(function(){e.close()}))}}])&&i(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(){return l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=f(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},l.apply(this,arguments)}function f(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=d(e)););return e}function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}function h(e,t){if(t&&("object"===a(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}var _=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}(c,e);var t,n,r,o,i=(r=c,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=d(r);if(o){var n=d(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return h(this,e)});function c(e){var t,n=e.selectorPopup,r=e.handleFormSubmit;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=i.call(this,n))._handleFormSubmit=r,t._element=t._selector.querySelector(".popup__info"),t._button=t._selector.querySelector(".popup__button"),t}return t=c,(n=[{key:"_getInputValues",value:function(){var e=this;return this._inputList=this._element.querySelectorAll(".popup__input"),this._formValues={},this._inputList.forEach((function(t){e._formValues[t.name]=t.value})),this._formValues}},{key:"setEventListener",value:function(){var e=this;this._element.addEventListener("submit",(function(t){t.preventDefault(),e._handleFormSubmit(e._getInputValues())})),l(d(c.prototype),"setEventListener",this).call(this)}},{key:"close",value:function(){this._element.reset(),l(d(c.prototype),"close",this).call(this)}},{key:"loading",value:function(){this._button.textContent="Сохранение..."}},{key:"loadingEnd",value:function(e){this._button.textContent=e}}])&&s(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),c}(u);function y(e){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(){return m="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=b(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},m.apply(this,arguments)}function b(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=w(e)););return e}function k(e,t){return k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},k(e,t)}function g(e,t){if(t&&("object"===y(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function w(e){return w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},w(e)}var E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&k(e,t)}(c,e);var t,n,r,o,i=(r=c,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=w(r);if(o){var n=w(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return g(this,e)});function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=i.call(this,e))._image=t._selector.querySelector(".popup__img"),t._name=t._selector.querySelector(".popup__title-place"),t}return t=c,(n=[{key:"open",value:function(e){var t=e.name,n=e.link;this._image.src=n,this._image.alt=t,this._name.textContent=t,m(w(c.prototype),"open",this).call(this)}}])&&v(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),c}(u);function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var P=function(){function e(t){var n=t.name,r=t.about,o=t.avatar;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=document.querySelector(n),this._profession=document.querySelector(r),this._avatar=document.querySelector(o),this._inputName=document.querySelector(".popup__input_type_name"),this._inputProfession=document.querySelector(".popup__input_type_about")}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){return{name:this._inputName.value=this._name.textContent,about:this._inputProfession.value=this._profession.textContent}}},{key:"setUserInfo",value:function(e){var t=e.name,n=e.about,r=e.avatar;this._name.textContent=t,this._profession.textContent=n,this._avatar.src=r}}])&&S(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function j(e,t,n){return t&&O(e.prototype,t),n&&O(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var C=j((function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),L(this,"_showInputError",(function(e,t){var n=r._data.querySelector(".".concat(e.id,"-error"));e.classList.add(r._inputError),n.textContent=t,n.classList.add(r._inputErrorActive)})),L(this,"_hideInputError",(function(e){var t=r._data.querySelector(".".concat(e.id,"-error"));e.classList.remove(r._inputError),t.classList.remove(r._inputErrorActive),t.textContent=""})),L(this,"_isValid",(function(e){e.validity.valid?r._hideInputError(e):r._showInputError(e,e.validationMessage)})),L(this,"_setEventListeners",(function(){r._toggleButtonState(),r._inputList.forEach((function(e){e.addEventListener("input",(function(){r._isValid(e),r._toggleButtonState()}))}))})),L(this,"enableValidation",(function(){r._setEventListeners()})),L(this,"_hasInvalidInput",(function(){return r._inputList.some((function(e){return!e.validity.valid}))})),L(this,"_enabledButtonPlace",(function(){r._buttonElement.classList.remove(r._submitButtonInactive),r._buttonElement.disabled=!1})),L(this,"disabledButtonPlace",(function(){r._buttonElement.classList.add(r._submitButtonInactive),r._buttonElement.disabled=!0})),L(this,"_toggleButtonState",(function(){r._hasInvalidInput()?r.disabledButtonPlace():r._enabledButtonPlace()})),this._form=t.form,this._inputError=t.inputError,this._inputErrorActive=t.inputErrorActive,this._inputForm=t.inputForm,this._submitButton=t.submitButton,this._submitButtonInactive=t.submitButtonInactive,this._data=n,this._inputList=Array.from(this._data.querySelectorAll(this._inputForm)),this._buttonElement=this._data.querySelector(this._submitButton)}));function q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var I=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._url=t.url,this._headers=t.headers}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){return fetch(this._url,{method:"GET",headers:this._headers}).then((function(e){return e.ok?e.json():Promise.reject("Ошибка: ".concat(e.status))}))}},{key:"getAllCards",value:function(){return fetch(this._url,{method:"GET",headers:this._headers}).then((function(e){return e.ok?e.json():Promise.reject("Ошибка: ".concat(e.status))}))}},{key:"editUserInfo",value:function(e){return fetch(this._url,{method:"PATCH",headers:this._headers,body:JSON.stringify(e)}).then((function(e){return e.ok?e.json():Promise.reject("Ошибка: ".concat(e.status))}))}},{key:"editUserAvatar",value:function(e){return fetch(this._url,{method:"PATCH",headers:this._headers,body:JSON.stringify(e)}).then((function(e){return e.ok?e.json():Promise.reject("Ошибка: ".concat(e.status))}))}},{key:"addNewPlace",value:function(e){return fetch(this._url,{method:"POST",headers:this._headers,body:JSON.stringify(e)}).then((function(e){return e.ok?e.json():Promise.reject("Ошибка: ".concat(e.status))}))}},{key:"deleteCard",value:function(e){return fetch("".concat(this._url).concat(e),{method:"DELETE",headers:this._headers}).then((function(e){return e.ok?e.json():Promise.reject("Ошибка: ".concat(e.status))}))}},{key:"putLike",value:function(e){return fetch("".concat(this._url).concat(e,"/likes"),{method:"PUT",headers:this._headers}).then((function(e){return e.ok?e.json():Promise.reject("Ошибка: ".concat(e.status))}))}},{key:"deleteLike",value:function(e){return fetch("".concat(this._url).concat(e,"/likes"),{method:"DELETE",headers:this._headers}).then((function(e){return e.ok?e.json():Promise.reject("Ошибка: ".concat(e.status))}))}}])&&q(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function R(e){return R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},R(e)}function T(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function B(){return B="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=x(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},B.apply(this,arguments)}function x(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=U(e)););return e}function A(e,t){return A=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},A(e,t)}function D(e,t){if(t&&("object"===R(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function U(e){return U=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},U(e)}var V=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&A(e,t)}(c,e);var t,n,r,o,i=(r=c,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=U(r);if(o){var n=U(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return D(this,e)});function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=i.call(this,e))._element=t._selector.querySelector(".popup__info"),t}return t=c,(n=[{key:"setEventListener",value:function(){var e=this;this._element.querySelector(".popup__button_delete").addEventListener("click",(function(t){t.preventDefault(),e._handleSubmitCallback()})),B(U(c.prototype),"setEventListener",this).call(this)}},{key:"setSubmitAction",value:function(e){this._handleSubmitCallback=e}}])&&T(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),c}(u);function F(e){return new I({url:e,headers:{authorization:"5c0d23ff-2f59-4bc2-a6ef-f772c38f9e88","Content-Type":"application/json"}})}F("https://nomoreparties.co/v1/cohort-41/users/me").getUserInfo().then((function(e){X.setUserInfo(e)})).catch((function(e){console.log(e)}));var N=F("https://mesto.nomoreparties.co/v1/cohort-41/cards");N.getAllCards().then((function(e){z.renderItem(e)})).catch((function(e){console.log(e)}));var J=F("https://mesto.nomoreparties.co/v1/cohort-41/cards/"),G=F("https://mesto.nomoreparties.co/v1/cohort-41/cards/");function H(e){var n=new t(e,".card-template_type_default",(function(){M.open(e)}),(function(e){$.open(),$.setSubmitAction((function(){G.deleteCard(e).then((function(){n.handleRemoveClick(),$.close()})).catch((function(e){console.log(e)}))}))}),(function(e){J.putLike(e).then((function(e){n.toggleLike(e)})).catch((function(e){console.log(e)}))}),(function(e){J.deleteLike(e).then((function(e){n.toggleLike(e)})).catch((function(e){console.log(e)}))}));return n.createCard()}var z=new r((function(e){z.addItem(H(e))}),".cards"),M=new E(".popup_image");M.setEventListener();var K=new _({selectorPopup:".popup_add",handleFormSubmit:function(e){K.loading(),N.addNewPlace(e).then((function(e){z.addItem(H(e)),K.close()})).catch((function(e){console.log(e)})).finally((function(){K.loadingEnd("Создать")}))}});K.setEventListener();var Q=F("https://mesto.nomoreparties.co/v1/cohort-41/users/me/avatar"),W=new _({selectorPopup:".popup_avatar",handleFormSubmit:function(e){W.loading(),Q.editUserAvatar(e).then((function(e){X.setUserInfo(e),W.close()})).catch((function(e){console.log(e)})).finally((function(){W.loadingEnd("Сохранить")}))}});W.setEventListener();var X=new P({name:".profile__name",about:".profile__about-me",avatar:".profile__avatar"}),Y=F("https://mesto.nomoreparties.co/v1/cohort-41/users/me"),Z=new _({selectorPopup:".popup_edit",handleFormSubmit:function(e){Z.loading(),Y.editUserInfo(e).then((function(e){X.setUserInfo(e),Z.close()})).catch((function(e){console.log(e)})).finally((function(){Z.loadingEnd("Сохранить")}))}});Z.setEventListener();var $=new V(".popup_delete-image");$.setEventListener(),document.querySelector(".profile__add-button").addEventListener("click",(function(){K.open(),re.disabledButtonPlace()})),document.querySelector(".profile__edit-button").addEventListener("click",(function(){X.getUserInfo(),Z.open()})),document.querySelector(".profile__avatar-button").addEventListener("click",(function(){W.open()}));var ee=document.querySelector(".popup__info_add"),te=document.querySelector(".popup__info_edit"),ne=document.querySelector(".popup__info_avatar");new C(o,te).enableValidation();var re=new C(o,ee);re.enableValidation(),new C(o,ne).enableValidation()}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFRLFdBQ1RHLEVBQVdGLFdBQVcsbUJBSzVCRSxFQUFXUCxtQkFFWCxJQUFNekIsRUFBVSxJQUFJeEQsRUFBUyxDQUFDakYsS0FBTSxpQkFBa0JrRixNQUFNLHFCQUFzQkMsT0FBUSxxQkFFcEZ3RixFQUFjckMsRUFBSSx3REFDbEJzQyxFQUFXLElBQUkxRyxFQUFjLENBQ2pDWCxjQUFlLGNBQ2ZZLGlCQUFrQixTQUFDdkIsR0FDakJnSSxFQUFTUixVQUNUTyxFQUFZRSxhQUFhakksR0FDeEI4RSxNQUFLLFNBQUM5RSxHQUNMNkYsRUFBUUMsWUFBWTlGLEdBQ3BCZ0ksRUFBU2xILFdBQ1JpRixPQUFNLFNBQUNDLEdBQ1JDLFFBQVFDLElBQUlGLE1BQ1gwQixTQUFRLFdBQ1RNLEVBQVNMLFdBQVcsbUJBSzFCSyxFQUFTVixtQkFFVCxJQUFNVCxFQUFhLElBQUlyQixFQUFvQix1QkFFM0NxQixFQUFXUyxtQkFHV25KLFNBQVNDLGNBQWMsd0JBQy9CYSxpQkFBaUIsU0FBUyxXQUN0Q3NJLEVBQVFYLE9BQ1JzQixHQUFhbEUseUJBR1E3RixTQUFTQyxjQUFjLHlCQUMvQmEsaUJBQWlCLFNBQVMsV0FDdkM0RyxFQUFRRCxjQUNSb0MsRUFBU3BCLFVBR2F6SSxTQUFTQyxjQUFjLDJCQUMvQmEsaUJBQWlCLFNBQVMsV0FDeEM0SSxFQUFXakIsVUFJYixJQUFNdUIsR0FBbUJoSyxTQUFTQyxjQUFjLG9CQUMxQ2dLLEdBQXFCakssU0FBU0MsY0FBYyxxQkFDNUNpSyxHQUFvQmxLLFNBQVNDLGNBQWMsdUJBQzNCLElBQUl3RSxFQUFjekMsRUFBVWlJLElBQ3BDRSxtQkFDZCxJQUFNSixHQUFlLElBQUl0RixFQUFjekMsRUFBVWdJLElBQ2pERCxHQUFhSSxtQkFDVyxJQUFJMUYsRUFBY3pDLEVBQVVrSSxJQUNwQ0MsbUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9TZWN0aW9uLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL3V0aWxzL2NvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvVXNlckluZm8uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvQXBpLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoRGVsZXRlRm9ybS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9wYWdlcy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY2xhc3MgQ2FyZCB7XG4gIGNvbnN0cnVjdG9yKHtuYW1lLCBsaW5rLCBsaWtlcywgb3duZXIsIF9pZH0sIGNhcmRTZWxlY3RvciwgaGFuZGxlQ2FyZENsaWNrLCBoYW5kbGVEZWxldGVDbGljaywgaGFuZGxlUHV0TGlrZUNsaWNrLCBoYW5kbGVEaXNsaWtlTGlrZUNsaWNrKSB7XG4gICAgdGhpcy5fbmFtZSA9IG5hbWU7XG4gICAgdGhpcy5fbGluayA9IGxpbms7XG4gICAgdGhpcy5fbGlrZXMgPSBsaWtlcztcbiAgICB0aGlzLl9pZCA9IG93bmVyLl9pZDtcbiAgICB0aGlzLl9jYXJkSWQgPSBfaWQ7XG4gICAgdGhpcy5fY2FyZFNlbGVjdG9yID0gY2FyZFNlbGVjdG9yO1xuICAgIHRoaXMuX2hhbmRsZUNhcmRDbGljayA9IGhhbmRsZUNhcmRDbGljaztcbiAgICB0aGlzLl9oYW5kbGVEZWxldGVDbGljayA9IGhhbmRsZURlbGV0ZUNsaWNrO1xuICAgIHRoaXMuX2hhbmRsZVB1dExpa2VDbGljayA9IGhhbmRsZVB1dExpa2VDbGljaztcbiAgICB0aGlzLl9oYW5kbGVEaXNsaWtlTGlrZUNsaWNrID0gaGFuZGxlRGlzbGlrZUxpa2VDbGljaztcbiAgfVxuXG5cbiAgX2dldFRlbXBsYXRlKCkge1xuICAgIGNvbnN0IGNhcmRFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLl9jYXJkU2VsZWN0b3IpLmNvbnRlbnQucXVlcnlTZWxlY3RvcignLmNhcmRzX19pdGVtJykuY2xvbmVOb2RlKHRydWUpO1xuICAgIHJldHVybiBjYXJkRWxlbWVudDtcbiAgfVxuXG4gIGNyZWF0ZUNhcmQoKSB7XG4gICAgdGhpcy5fZWxlbWVudCA9IHRoaXMuX2dldFRlbXBsYXRlKCk7XG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgICB0aGlzLl9zZXREZWxldGVCdXR0b24oKTtcbiAgICBjb25zdCBpbWFnSW5mb0NhcmQgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYXJkc19faW1hZ2UnKTtcbiAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYXJkc19fbmFtZScpLnRleHRDb250ZW50ID0gdGhpcy5fbmFtZTtcbiAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZHNfX251bWJlci1vZi1saWtlc1wiKS50ZXh0Q29udGVudCA9IHRoaXMuX2xpa2VzLmxlbmd0aDtcbiAgICBpbWFnSW5mb0NhcmQuc3JjID0gdGhpcy5fbGluaztcbiAgICBpbWFnSW5mb0NhcmQuYWx0ID0gdGhpcy5fbmFtZTtcbiAgICB0aGlzLl9saWtlU3RhdHVzKCk7XG5cbiAgICByZXR1cm4gdGhpcy5fZWxlbWVudDtcbiAgfVxuXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcbiAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYXJkc19fbGlrZScpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT57XG4gICAgICB0aGlzLl9oYW5kbGVMaWtlQ2xpY2soKVxuICAgIH0pO1xuICAgIHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmNhcmRzX19kZWxldGUnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+e1xuICAgICAgdGhpcy5faGFuZGxlRGVsZXRlQ2xpY2sodGhpcy5fY2FyZElkKTtcbiAgICB9KTtcbiAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYXJkc19faW1hZ2UnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZUNhcmRDbGljayk7XG4gIH1cblxuICBfaGFuZGxlTGlrZUNsaWNrKCkge1xuICAgIGlmKHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmNhcmRzX19saWtlJykuY2xhc3NMaXN0LmNvbnRhaW5zKCdjYXJkc19fbGlrZV9hY3RpdmUnKSkge1xuICAgICAgdGhpcy5faGFuZGxlRGlzbGlrZUxpa2VDbGljayh0aGlzLl9jYXJkSWQpO1xuICAgIH1lbHNlIHtcbiAgICAgIHRoaXMuX2hhbmRsZVB1dExpa2VDbGljayh0aGlzLl9jYXJkSWQpO1xuICAgIH1cbiAgfVxuXG4gIHRvZ2dsZUxpa2UoaXRlbSkge1xuICAgIHRoaXMuX2xpa2VzID0gaXRlbS5saWtlcztcbiAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYXJkc19fbGlrZScpLmNsYXNzTGlzdC50b2dnbGUoJ2NhcmRzX19saWtlX2FjdGl2ZScpO1xuICAgIHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkc19fbnVtYmVyLW9mLWxpa2VzXCIpLnRleHRDb250ZW50ID0gdGhpcy5fbGlrZXMubGVuZ3RoO1xuICB9XG5cbiAgX2xpa2VTdGF0dXMoKSB7XG4gICAgaWYodGhpcy5fbGlrZXMuc29tZSgoZWxlbWVudCkgPT4gZWxlbWVudC5faWQgPT09ICc0MmQ5Y2Q5NjA5NzgzZDFkODU2NDYyODInKSkge1xuICAgICAgdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuY2FyZHNfX2xpa2UnKS5jbGFzc0xpc3QuYWRkKCdjYXJkc19fbGlrZV9hY3RpdmUnKTtcbiAgICB9XG4gIH1cblxuXG4gIF9zZXREZWxldGVCdXR0b24oKSB7XG4gICAgY29uc3QgaWRDYXJkID0gJzQyZDljZDk2MDk3ODNkMWQ4NTY0NjI4MidcbiAgICBpZih0aGlzLl9pZCA9PT0gaWRDYXJkKSB7XG4gICAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYXJkc19fZGVsZXRlJykuY2xhc3NMaXN0LmFkZCgnY2FyZHNfX2RlbGV0ZV9hY3RpdmUnKTtcbiAgICB9XG4gIH1cblxuICBoYW5kbGVSZW1vdmVDbGljaygpIHtcbiAgICB0aGlzLl9lbGVtZW50LnJlbW92ZSgpO1xuICB9XG5cbn1cblxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2VjdGlvbiB7XG4gIGNvbnN0cnVjdG9yKHJlbmRlcmVyLCBjb250YWluZXJTZWxlY3Rvcikge1xuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XG4gICAgdGhpcy5fY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihjb250YWluZXJTZWxlY3Rvcik7XG4gIH1cblxuICByZW5kZXJJdGVtKGRhdGEpIHtcbiAgICBkYXRhLmZvckVhY2goaXRlbSA9PiB0aGlzLl9yZW5kZXJlcihpdGVtKSk7XG4gIH1cblxuICBhZGRJdGVtKGVsZW1lbnQpIHtcbiAgICB0aGlzLl9jb250YWluZXIucHJlcGVuZChlbGVtZW50KTtcbiAgfVxufVxuIiwiZXhwb3J0IGNvbnN0IGZvcm1FbGVtID0ge1xuICBpbnB1dEVycm9yOiAncG9wdXBfX2lucHV0X3R5cGVfZXJyb3InLFxuICBpbnB1dEVycm9yQWN0aXZlOiAncG9wdXBfX2lucHV0LWVycm9yX2FjdGl2ZScsXG4gIGlucHV0Rm9ybTogJy5wb3B1cF9faW5wdXQnLFxuICBzdWJtaXRCdXR0b246ICcucG9wdXBfX2J1dHRvbicsXG4gIGZvcm06ICcucG9wdXBfX2luZm8nLFxuICBzdWJtaXRCdXR0b25JbmFjdGl2ZTogJ3BvcHVwX19idXR0b25faW5hY3RpdmUnXG59XG5cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwIHtcbiAgY29uc3RydWN0b3Ioc2VsZWN0b3JQb3B1cCkge1xuICAgIHRoaXMuX3NlbGVjdG9yID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3RvclBvcHVwKTtcbiAgICB0aGlzLl9idXR0b25DbG9zZSA9IHRoaXMuX3NlbGVjdG9yLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fY2xvc2UnKTtcbiAgfVxuXG4gIG9wZW4oKSB7XG4gICAgdGhpcy5fc2VsZWN0b3IuY2xhc3NMaXN0LmFkZCgncG9wdXBfb3BlbmVkJyk7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcbiAgICB0aGlzLl9zZWxlY3Rvci5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCB0aGlzLl9oYW5kbGVDbGlja0Nsb3NlKTtcbiAgfVxuXG4gIGNsb3NlKCkge1xuICAgIHRoaXMuX3NlbGVjdG9yLmNsYXNzTGlzdC5yZW1vdmUoJ3BvcHVwX29wZW5lZCcpO1xuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XG4gICAgdGhpcy5fc2VsZWN0b3IucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5faGFuZGxlQ2xpY2tDbG9zZSk7XG4gIH1cblxuICBfaGFuZGxlRXNjQ2xvc2UgPSAoZXZ0KSAgPT4ge1xuICAgIGlmIChldnQua2V5ID09PSBcIkVzY2FwZVwiKSB7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfVxuICB9XG5cbiAgX2hhbmRsZUNsaWNrQ2xvc2UgPSAoZXZ0KSA9PiB7XG4gICAgaWYgKGV2dC50YXJnZXQgPT09IGV2dC5jdXJyZW50VGFyZ2V0KSB7XG4gICAgICB0aGlzLmNsb3NlKGV2dC5jdXJyZW50VGFyZ2V0KTtcbiAgICB9XG4gIH1cblxuICBzZXRFdmVudExpc3RlbmVyKCl7XG4gICAgdGhpcy5fYnV0dG9uQ2xvc2UuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfSlcbiAgfVxufVxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEZvcm0gZXh0ZW5kcyBQb3B1cCB7XG5jb25zdHJ1Y3Rvcih7c2VsZWN0b3JQb3B1cCwgaGFuZGxlRm9ybVN1Ym1pdH0pIHtcbiAgICBzdXBlcihzZWxlY3RvclBvcHVwKTtcbiAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0ICA9IGhhbmRsZUZvcm1TdWJtaXQ7XG4gICAgdGhpcy5fZWxlbWVudCA9IHRoaXMuX3NlbGVjdG9yLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9faW5mbycpO1xuICAgIHRoaXMuX2J1dHRvbiA9IHRoaXMuX3NlbGVjdG9yLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fYnV0dG9uJyk7XG4gIH1cblxuICBfZ2V0SW5wdXRWYWx1ZXMoKSB7XG4gICAgdGhpcy5faW5wdXRMaXN0ID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucG9wdXBfX2lucHV0Jyk7XG4gICAgdGhpcy5fZm9ybVZhbHVlcyA9IHt9O1xuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dCkgPT4ge1xuICAgICAgdGhpcy5fZm9ybVZhbHVlc1tpbnB1dC5uYW1lXSA9ICBpbnB1dC52YWx1ZTtcbiAgICB9KTtcblxuICAgIHJldHVybiB0aGlzLl9mb3JtVmFsdWVzO1xuICB9XG5cbiAgc2V0RXZlbnRMaXN0ZW5lcigpIHtcbiAgICB0aGlzLl9lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIChldnQpID0+IHtcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCh0aGlzLl9nZXRJbnB1dFZhbHVlcygpKTtcbiAgICB9KTtcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVyKCk7XG4gIH1cblxuICBjbG9zZSgpIHtcbiAgICB0aGlzLl9lbGVtZW50LnJlc2V0KCk7XG4gICAgc3VwZXIuY2xvc2UoKTtcbiAgfVxuXG4gIGxvYWRpbmcoKSB7XG4gICAgdGhpcy5fYnV0dG9uLnRleHRDb250ZW50ID0gXCLQodC+0YXRgNCw0L3QtdC90LjQtS4uLlwiO1xuICB9XG5cbiAgbG9hZGluZ0VuZCh0ZXh0KSB7XG4gICAgdGhpcy5fYnV0dG9uLnRleHRDb250ZW50ID0gdGV4dDtcbiAgfVxuXG59XG5cblxuXG5cblxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xuICBjb25zdHJ1Y3RvcihzZWxlY3RvclBvcHVwKSB7XG4gICAgc3VwZXIoc2VsZWN0b3JQb3B1cCk7XG4gICAgdGhpcy5faW1hZ2UgPSB0aGlzLl9zZWxlY3Rvci5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2ltZycpO1xuICAgIHRoaXMuX25hbWUgPSB0aGlzLl9zZWxlY3Rvci5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX3RpdGxlLXBsYWNlJyk7XG4gIH1cblxuICBvcGVuKHtuYW1lLCBsaW5rfSkge1xuICAgIHRoaXMuX2ltYWdlLnNyYyA9IGxpbms7XG4gICAgdGhpcy5faW1hZ2UuYWx0ID0gbmFtZTtcbiAgICB0aGlzLl9uYW1lLnRleHRDb250ZW50ID0gbmFtZTtcblxuICAgIHN1cGVyLm9wZW4oKTtcbiAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVXNlckluZm8ge1xuICBjb25zdHJ1Y3Rvcih7bmFtZSwgYWJvdXQsIGF2YXRhcn0pIHtcbiAgICB0aGlzLl9uYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihuYW1lKTtcbiAgICB0aGlzLl9wcm9mZXNzaW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihhYm91dCk7XG4gICAgdGhpcy5fYXZhdGFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihhdmF0YXIpO1xuICAgIHRoaXMuX2lucHV0TmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9faW5wdXRfdHlwZV9uYW1lJyk7XG4gICAgdGhpcy5faW5wdXRQcm9mZXNzaW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX19pbnB1dF90eXBlX2Fib3V0Jyk7XG4gIH1cblxuICBnZXRVc2VySW5mbygpIHtcbiAgICByZXR1cm57XG4gICAgICBuYW1lOiB0aGlzLl9pbnB1dE5hbWUudmFsdWUgPSB0aGlzLl9uYW1lLnRleHRDb250ZW50LFxuICAgICAgYWJvdXQ6IHRoaXMuX2lucHV0UHJvZmVzc2lvbi52YWx1ZSA9IHRoaXMuX3Byb2Zlc3Npb24udGV4dENvbnRlbnRcbiAgICB9O1xuICB9XG5cbiAgc2V0VXNlckluZm8oe25hbWUsIGFib3V0LCBhdmF0YXJ9KSB7XG4gICAgdGhpcy5fbmFtZS50ZXh0Q29udGVudCA9IG5hbWU7XG4gICAgdGhpcy5fcHJvZmVzc2lvbi50ZXh0Q29udGVudCA9IGFib3V0O1xuICAgIHRoaXMuX2F2YXRhci5zcmMgPSBhdmF0YXI7XG4gIH1cbn1cbiIsImV4cG9ydCBjbGFzcyBGb3JtVmFsaWRhdG9yIHtcbiAgY29uc3RydWN0b3IoY29uZmlnLCBkYXRhKSB7XG4gICAgdGhpcy5fZm9ybSA9IGNvbmZpZy5mb3JtO1xuICAgIHRoaXMuX2lucHV0RXJyb3IgPSBjb25maWcuaW5wdXRFcnJvclxuICAgIHRoaXMuX2lucHV0RXJyb3JBY3RpdmUgPSBjb25maWcuaW5wdXRFcnJvckFjdGl2ZVxuICAgIHRoaXMuX2lucHV0Rm9ybSA9IGNvbmZpZy5pbnB1dEZvcm1cbiAgICB0aGlzLl9zdWJtaXRCdXR0b24gPSBjb25maWcuc3VibWl0QnV0dG9uXG4gICAgdGhpcy5fc3VibWl0QnV0dG9uSW5hY3RpdmUgPSBjb25maWcuc3VibWl0QnV0dG9uSW5hY3RpdmVcbiAgICB0aGlzLl9kYXRhID0gZGF0YTtcbiAgICB0aGlzLl9pbnB1dExpc3QgPSBBcnJheS5mcm9tKHRoaXMuX2RhdGEucXVlcnlTZWxlY3RvckFsbCh0aGlzLl9pbnB1dEZvcm0pKTtcbiAgICB0aGlzLl9idXR0b25FbGVtZW50ID0gdGhpcy5fZGF0YS5xdWVyeVNlbGVjdG9yKHRoaXMuX3N1Ym1pdEJ1dHRvbik7XG4gIH07XG5cbiAgX3Nob3dJbnB1dEVycm9yID0gKGlucHV0RWxlbWVudCwgZXJyb3JNZXNzYWdlKSA9PiB7XG4gICAgY29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy5fZGF0YS5xdWVyeVNlbGVjdG9yKGAuJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYCk7XG4gICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5faW5wdXRFcnJvcik7XG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gZXJyb3JNZXNzYWdlO1xuICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2lucHV0RXJyb3JBY3RpdmUpO1xuICB9O1xuXG4gIF9oaWRlSW5wdXRFcnJvciA9IChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICBjb25zdCBlcnJvckVsZW1lbnQgPSB0aGlzLl9kYXRhLnF1ZXJ5U2VsZWN0b3IoYC4ke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgKTtcbiAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbnB1dEVycm9yKTtcbiAgICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbnB1dEVycm9yQWN0aXZlKTtcbiAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSAnJztcbiAgfTtcblxuICBfaXNWYWxpZCA9IChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICBpZiAoIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZCkge1xuICAgICAgdGhpcy5fc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50LCBpbnB1dEVsZW1lbnQudmFsaWRhdGlvbk1lc3NhZ2UpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpO1xuICAgIH1cbiAgfTtcblxuICBfc2V0RXZlbnRMaXN0ZW5lcnMgPSAoKSA9PiB7XG4gICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XG4gICAgICBpbnB1dEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7XG4gICAgICAgIHRoaXMuX2lzVmFsaWQoaW5wdXRFbGVtZW50KTtcbiAgICAgICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9O1xuXG4gIGVuYWJsZVZhbGlkYXRpb24gPSAoKSA9PiB7XG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgfTtcblxuICBfaGFzSW52YWxpZElucHV0ID0gKCkgPT4ge1xuICAgIHJldHVybiB0aGlzLl9pbnB1dExpc3Quc29tZSgoaW5wdXRFbGVtZW50KSA9PiB7XG5cbiAgICAgIHJldHVybiAhaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkO1xuICAgIH0pXG4gIH07XG5cbiAgX2VuYWJsZWRCdXR0b25QbGFjZSA9ICgpID0+IHtcbiAgICB0aGlzLl9idXR0b25FbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fc3VibWl0QnV0dG9uSW5hY3RpdmUpO1xuICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuZGlzYWJsZWQgPSBmYWxzZTtcbiAgfTtcblxuICBkaXNhYmxlZEJ1dHRvblBsYWNlID0gKCkgPT4ge1xuICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9zdWJtaXRCdXR0b25JbmFjdGl2ZSk7XG4gICAgdGhpcy5fYnV0dG9uRWxlbWVudC5kaXNhYmxlZCA9IHRydWU7XG4gIH07XG5cbiAgX3RvZ2dsZUJ1dHRvblN0YXRlID0gKCkgPT4ge1xuICAgIGlmICh0aGlzLl9oYXNJbnZhbGlkSW5wdXQoKSkge1xuICAgICAgdGhpcy5kaXNhYmxlZEJ1dHRvblBsYWNlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2VuYWJsZWRCdXR0b25QbGFjZSgpO1xuICAgIH1cbiAgfTtcbn1cblxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXBpIHtcbiAgY29uc3RydWN0b3IoY29uZmlnKSB7XG4gICAgdGhpcy5fdXJsID0gY29uZmlnLnVybDtcbiAgICB0aGlzLl9oZWFkZXJzID0gY29uZmlnLmhlYWRlcnM7XG4gIH1cblxuICBnZXRVc2VySW5mbygpIHtcbiAgICByZXR1cm4gZmV0Y2godGhpcy5fdXJsLCB7XG4gICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVyc1xuICAgIH0pLnRoZW4oKHJlcykgPT4ge1xuICAgICAgaWYgKHJlcy5vaykge1xuICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChg0J7RiNC40LHQutCwOiAke3Jlcy5zdGF0dXN9YCk7XG4gICAgfSlcbiAgfVxuXG4gIGdldEFsbENhcmRzKCkge1xuICAgIHJldHVybiBmZXRjaCh0aGlzLl91cmwsIHtcbiAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzXG4gICAgfSkudGhlbigocmVzKSA9PiB7XG4gICAgICBpZiAocmVzLm9rKSB7XG4gICAgICAgIHJldHVybiByZXMuanNvbigpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGDQntGI0LjQsdC60LA6ICR7cmVzLnN0YXR1c31gKTtcbiAgICB9KVxuICB9XG5cbiAgZWRpdFVzZXJJbmZvKGRhdGEpIHtcbiAgICByZXR1cm4gZmV0Y2godGhpcy5fdXJsLCB7XG4gICAgICBtZXRob2Q6ICdQQVRDSCcsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoZGF0YSlcbiAgICB9KS50aGVuKChyZXMpID0+IHtcbiAgICAgIGlmIChyZXMub2spIHtcbiAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYNCe0YjQuNCx0LrQsDogJHtyZXMuc3RhdHVzfWApO1xuICAgIH0pXG4gIH1cblxuICBlZGl0VXNlckF2YXRhcihkYXRhKSB7XG4gICAgcmV0dXJuIGZldGNoKHRoaXMuX3VybCwge1xuICAgICAgbWV0aG9kOiAnUEFUQ0gnLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGRhdGEpXG4gICAgfSkudGhlbigocmVzKSA9PiB7XG4gICAgICBpZiAocmVzLm9rKSB7XG4gICAgICAgIHJldHVybiByZXMuanNvbigpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGDQntGI0LjQsdC60LA6ICR7cmVzLnN0YXR1c31gKTtcbiAgICB9KVxuICB9XG5cbiAgYWRkTmV3UGxhY2UoZGF0YSkge1xuICAgIHJldHVybiBmZXRjaCh0aGlzLl91cmwsIHtcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGRhdGEpXG4gICAgfSkudGhlbigocmVzKSA9PntcbiAgICAgIGlmIChyZXMub2spIHtcbiAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYNCe0YjQuNCx0LrQsDogJHtyZXMuc3RhdHVzfWApO1xuICAgIH0pXG4gIH1cblxuICBkZWxldGVDYXJkKGlkKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX3VybH0ke2lkfWAse1xuICAgICAgbWV0aG9kOiAnREVMRVRFJyxcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnNcbiAgICAgIH0pLnRoZW4oKHJlcykgPT57XG4gICAgICAgIGlmIChyZXMub2spIHtcbiAgICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYNCe0YjQuNCx0LrQsDogJHtyZXMuc3RhdHVzfWApO1xuICAgICAgfSlcbiAgfVxuXG4gIHB1dExpa2UoaWQpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fdXJsfSR7aWR9L2xpa2VzYCwge1xuICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnNcbiAgICB9KS50aGVuKChyZXMpID0+e1xuICAgICAgaWYgKHJlcy5vaykge1xuICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChg0J7RiNC40LHQutCwOiAke3Jlcy5zdGF0dXN9YCk7XG4gICAgfSlcbiAgfVxuXG4gIGRlbGV0ZUxpa2UoaWQpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fdXJsfSR7aWR9L2xpa2VzYCwge1xuICAgICAgbWV0aG9kOiAnREVMRVRFJyxcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnNcbiAgICB9KS50aGVuKChyZXMpID0+e1xuICAgICAgaWYgKHJlcy5vaykge1xuICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChg0J7RiNC40LHQutCwOiAke3Jlcy5zdGF0dXN9YCk7XG4gICAgfSlcbiAgfVxuXG59XG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoRGVsZXRlRm9ybSBleHRlbmRzIFBvcHVwIHtcbiAgY29uc3RydWN0b3Ioc2VsZWN0b3JQb3B1cCkge1xuICAgIHN1cGVyKHNlbGVjdG9yUG9wdXApO1xuICAgIHRoaXMuX2VsZW1lbnQgPSB0aGlzLl9zZWxlY3Rvci5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2luZm8nKTtcbiAgfVxuXG4gIHNldEV2ZW50TGlzdGVuZXIoKSB7XG4gICAgdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2J1dHRvbl9kZWxldGUnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldnQpID0+IHtcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdGhpcy5faGFuZGxlU3VibWl0Q2FsbGJhY2soKTtcbiAgICB9KVxuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXIoKTtcbiAgfVxuXG4gIHNldFN1Ym1pdEFjdGlvbihpdGVtKSB7XG4gICAgdGhpcy5faGFuZGxlU3VibWl0Q2FsbGJhY2sgPSBpdGVtO1xuICB9XG59XG5cbiIsImltcG9ydCB7Q2FyZH0gZnJvbSAnLi4vY29tcG9uZW50cy9DYXJkLmpzJztcbmltcG9ydCBTZWN0aW9uIGZyb20gJy4uL2NvbXBvbmVudHMvU2VjdGlvbi5qcyc7XG5pbXBvcnQge2Zvcm1FbGVtfSBmcm9tICcuLi91dGlscy9jb25zdGFudHMuanMnO1xuaW1wb3J0IFBvcHVwV2l0aEZvcm0gZnJvbSAnLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzJztcbmltcG9ydCBQb3B1cFdpdGhJbWFnZSBmcm9tICcuLi9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzJ1xuaW1wb3J0IFVzZXJJbmZvIGZyb20gJy4uL2NvbXBvbmVudHMvVXNlckluZm8uanMnO1xuaW1wb3J0IHtGb3JtVmFsaWRhdG9yfSBmcm9tICcuLi9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMnO1xuaW1wb3J0ICcuLi9wYWdlcy9pbmRleC5jc3MnO1xuaW1wb3J0IEFwaSBmcm9tICcuLi9jb21wb25lbnRzL0FwaS5qcyc7XG5pbXBvcnQgUG9wdXBXaXRoRGVsZXRlRm9ybSBmcm9tICcuLi9jb21wb25lbnRzL1BvcHVwV2l0aERlbGV0ZUZvcm0uanMnO1xuXG5mdW5jdGlvbiBhcGkoaXRlbSkge1xuICBjb25zdCBhcGkgPSBuZXcgQXBpKHtcbiAgICB1cmw6IGl0ZW0sXG4gICAgaGVhZGVyczoge1xuICAgICAgYXV0aG9yaXphdGlvbjogJzVjMGQyM2ZmLTJmNTktNGJjMi1hNmVmLWY3NzJjMzhmOWU4OCcsXG4gICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXG4gICAgfVxuICB9KVxuICByZXR1cm4gYXBpO1xufVxuXG5jb25zdCBhcGlVc2VyID0gYXBpKFwiaHR0cHM6Ly9ub21vcmVwYXJ0aWVzLmNvL3YxL2NvaG9ydC00MS91c2Vycy9tZVwiKTtcbmFwaVVzZXIuZ2V0VXNlckluZm8oKVxuLnRoZW4oKGl0ZW0pID0+IHtcbiAgcHJvZmlsZS5zZXRVc2VySW5mbyhpdGVtKTtcbn0pLmNhdGNoKChlcnIpID0+IHtcbiAgY29uc29sZS5sb2coZXJyKTtcbn0pO1xuXG5jb25zdCBhcGlDYXJkID0gYXBpKFwiaHR0cHM6Ly9tZXN0by5ub21vcmVwYXJ0aWVzLmNvL3YxL2NvaG9ydC00MS9jYXJkc1wiKTtcbmFwaUNhcmQuZ2V0QWxsQ2FyZHMoKVxuLnRoZW4oKGRhdGEpID0+IHtcbiAgY2FyZExpc3QucmVuZGVySXRlbShkYXRhKTtcbn0pLmNhdGNoKChlcnIpID0+IHtcbiAgY29uc29sZS5sb2coZXJyKTtcbn0pO1xuXG5jb25zdCBhcGlMaWtlID0gYXBpKFwiaHR0cHM6Ly9tZXN0by5ub21vcmVwYXJ0aWVzLmNvL3YxL2NvaG9ydC00MS9jYXJkcy9cIilcbmNvbnN0IGFwaURlbGV0ZUNhcmQgPSBhcGkoXCJodHRwczovL21lc3RvLm5vbW9yZXBhcnRpZXMuY28vdjEvY29ob3J0LTQxL2NhcmRzL1wiKVxuZnVuY3Rpb24gcmVuZGVyQ2FyZChpdGVtKSB7XG4gIGNvbnN0IGNhcmQgPSBuZXcgQ2FyZChpdGVtLCAnLmNhcmQtdGVtcGxhdGVfdHlwZV9kZWZhdWx0JywgKCkgPT4ge1xuICAgIGltZ0l0ZW0ub3BlbihpdGVtKTtcbiAgfSwgKGl0ZW0pID0+IHtcbiAgICBmb3JtRGVsZXRlLm9wZW4oKTtcbiAgICBmb3JtRGVsZXRlLnNldFN1Ym1pdEFjdGlvbigoKSA9PiB7XG4gICAgICBhcGlEZWxldGVDYXJkLmRlbGV0ZUNhcmQoaXRlbSlcbiAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgY2FyZC5oYW5kbGVSZW1vdmVDbGljaygpO1xuICAgICAgICBmb3JtRGVsZXRlLmNsb3NlKCk7XG4gICAgICB9KS5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICB9KVxuICAgIH0pXG4gIH0sIChpdGVtKSA9PiB7XG4gICAgYXBpTGlrZS5wdXRMaWtlKGl0ZW0pXG4gICAgLnRoZW4oKGl0ZW0pID0+e1xuICAgICAgY2FyZC50b2dnbGVMaWtlKGl0ZW0pO1xuICAgIH0pLmNhdGNoKChlcnIpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgfSlcbiAgfSwgKGl0ZW0pID0+IHtcbiAgICBhcGlMaWtlLmRlbGV0ZUxpa2UoaXRlbSlcbiAgICAudGhlbigoaXRlbSkgPT4ge1xuICAgICAgY2FyZC50b2dnbGVMaWtlKGl0ZW0pO1xuICAgIH0pLmNhdGNoKChlcnIpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgfSk7XG4gIH1cbiAgKVxuICByZXR1cm4gY2FyZC5jcmVhdGVDYXJkKCk7XG59XG5cbmNvbnN0IGNhcmRMaXN0ID0gbmV3IFNlY3Rpb24oXG4gIChpdGVtKSA9PiB7XG4gICAgY2FyZExpc3QuYWRkSXRlbShyZW5kZXJDYXJkKGl0ZW0pKTtcbiAgfSxcbiAgICcuY2FyZHMnKTtcblxuY29uc3QgaW1nSXRlbSA9IG5ldyBQb3B1cFdpdGhJbWFnZSgnLnBvcHVwX2ltYWdlJyk7XG5cbmltZ0l0ZW0uc2V0RXZlbnRMaXN0ZW5lcigpO1xuXG5jb25zdCBmb3JtQWRkID0gbmV3IFBvcHVwV2l0aEZvcm0oe1xuICBzZWxlY3RvclBvcHVwOiAnLnBvcHVwX2FkZCcsXG4gIGhhbmRsZUZvcm1TdWJtaXQ6IChkYXRhKSA9PiB7XG4gICAgZm9ybUFkZC5sb2FkaW5nKCk7XG4gICAgYXBpQ2FyZC5hZGROZXdQbGFjZShkYXRhKVxuICAgIC50aGVuKChkYXRhKSA9PiB7XG4gICAgICBjYXJkTGlzdC5hZGRJdGVtKHJlbmRlckNhcmQoZGF0YSkpO1xuICAgICAgZm9ybUFkZC5jbG9zZSgpXG4gICAgfSkuY2F0Y2goKGVycikgPT4ge1xuICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICB9KS5maW5hbGx5KCgpID0+e1xuICAgICAgZm9ybUFkZC5sb2FkaW5nRW5kKCfQodC+0LfQtNCw0YLRjCcpXG4gICAgfSlcbiAgfVxufSk7XG5cbmZvcm1BZGQuc2V0RXZlbnRMaXN0ZW5lcigpO1xuXG5jb25zdCBhcGlBdmF0YXIgPSBhcGkoJ2h0dHBzOi8vbWVzdG8ubm9tb3JlcGFydGllcy5jby92MS9jb2hvcnQtNDEvdXNlcnMvbWUvYXZhdGFyJylcbmNvbnN0IGZvcm1BdmF0YXIgPSBuZXcgUG9wdXBXaXRoRm9ybSh7XG4gIHNlbGVjdG9yUG9wdXA6ICcucG9wdXBfYXZhdGFyJyxcbiAgaGFuZGxlRm9ybVN1Ym1pdDogKGRhdGEpID0+IHtcbiAgICBmb3JtQXZhdGFyLmxvYWRpbmcoKTtcbiAgICBhcGlBdmF0YXIuZWRpdFVzZXJBdmF0YXIoZGF0YSlcbiAgICAudGhlbigoZGF0YSkgPT4ge1xuICAgICAgcHJvZmlsZS5zZXRVc2VySW5mbyhkYXRhKTtcbiAgICAgIGZvcm1BdmF0YXIuY2xvc2UoKTtcbiAgICB9KS5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgIH0pLmZpbmFsbHkoKCkgPT57XG4gICAgICBmb3JtQXZhdGFyLmxvYWRpbmdFbmQoJ9Ch0L7RhdGA0LDQvdC40YLRjCcpXG4gICAgfSlcbiAgfVxufSlcblxuZm9ybUF2YXRhci5zZXRFdmVudExpc3RlbmVyKCk7XG5cbmNvbnN0IHByb2ZpbGUgPSBuZXcgVXNlckluZm8oe25hbWU6ICcucHJvZmlsZV9fbmFtZScsIGFib3V0OicucHJvZmlsZV9fYWJvdXQtbWUnLCBhdmF0YXI6ICcucHJvZmlsZV9fYXZhdGFyJ30pO1xuXG5jb25zdCBhcGlVc2VyRWRpdCA9IGFwaShcImh0dHBzOi8vbWVzdG8ubm9tb3JlcGFydGllcy5jby92MS9jb2hvcnQtNDEvdXNlcnMvbWVcIilcbmNvbnN0IGZvcm1FZGl0ID0gbmV3IFBvcHVwV2l0aEZvcm0oe1xuICBzZWxlY3RvclBvcHVwOiAnLnBvcHVwX2VkaXQnLFxuICBoYW5kbGVGb3JtU3VibWl0OiAoZGF0YSkgPT4ge1xuICAgIGZvcm1FZGl0LmxvYWRpbmcoKTtcbiAgICBhcGlVc2VyRWRpdC5lZGl0VXNlckluZm8oZGF0YSlcbiAgICAudGhlbigoZGF0YSkgPT4ge1xuICAgICAgcHJvZmlsZS5zZXRVc2VySW5mbyhkYXRhKTtcbiAgICAgIGZvcm1FZGl0LmNsb3NlKCk7XG4gICAgfSkuY2F0Y2goKGVycikgPT4ge1xuICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICB9KS5maW5hbGx5KCgpID0+e1xuICAgICAgZm9ybUVkaXQubG9hZGluZ0VuZCgn0KHQvtGF0YDQsNC90LjRgtGMJylcbiAgICB9KVxuICB9XG59KVxuXG5mb3JtRWRpdC5zZXRFdmVudExpc3RlbmVyKCk7XG5cbmNvbnN0IGZvcm1EZWxldGUgPSBuZXcgUG9wdXBXaXRoRGVsZXRlRm9ybSgnLnBvcHVwX2RlbGV0ZS1pbWFnZScpXG5cbmZvcm1EZWxldGUuc2V0RXZlbnRMaXN0ZW5lcigpO1xuXG5cbmNvbnN0IGJ1dHRvbk9wZW5BZGQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fYWRkLWJ1dHRvbicpO1xuYnV0dG9uT3BlbkFkZC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgZm9ybUFkZC5vcGVuKCk7XG4gIHZhbGlkRm9ybUFkZC5kaXNhYmxlZEJ1dHRvblBsYWNlKCk7XG59KVxuXG5jb25zdCBidXR0b25PcGVuRWRpdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19lZGl0LWJ1dHRvbicpO1xuYnV0dG9uT3BlbkVkaXQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gIHByb2ZpbGUuZ2V0VXNlckluZm8oKTtcbiAgZm9ybUVkaXQub3BlbigpO1xufSlcblxuY29uc3QgY2xpY2tPcGVuQXZhdGFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2F2YXRhci1idXR0b24nKTtcbmNsaWNrT3BlbkF2YXRhci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgZm9ybUF2YXRhci5vcGVuKCk7XG59KVxuXG5cbmNvbnN0IGZvcm1QbGFjZUVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2luZm9fYWRkJyk7XG5jb25zdCBmb3JtUHJvZmlsZUVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2luZm9fZWRpdCcpO1xuY29uc3QgZm9ybUF2YXRhckVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2luZm9fYXZhdGFyJyk7XG5jb25zdCB2YWxpZEZvcm1FZGl0ID0gbmV3IEZvcm1WYWxpZGF0b3IoZm9ybUVsZW0sIGZvcm1Qcm9maWxlRWxlbWVudCk7XG52YWxpZEZvcm1FZGl0LmVuYWJsZVZhbGlkYXRpb24oKTtcbmNvbnN0IHZhbGlkRm9ybUFkZCA9IG5ldyBGb3JtVmFsaWRhdG9yKGZvcm1FbGVtLCBmb3JtUGxhY2VFbGVtZW50KTtcbnZhbGlkRm9ybUFkZC5lbmFibGVWYWxpZGF0aW9uKCk7XG5jb25zdCB2YWxpZEZvcm1BdmF0YXIgPSBuZXcgRm9ybVZhbGlkYXRvcihmb3JtRWxlbSwgZm9ybUF2YXRhckVsZW1lbnQpO1xudmFsaWRGb3JtQXZhdGFyLmVuYWJsZVZhbGlkYXRpb24oKTtcbiJdLCJuYW1lcyI6WyJDYXJkIiwiY2FyZFNlbGVjdG9yIiwiaGFuZGxlQ2FyZENsaWNrIiwiaGFuZGxlRGVsZXRlQ2xpY2siLCJoYW5kbGVQdXRMaWtlQ2xpY2siLCJoYW5kbGVEaXNsaWtlTGlrZUNsaWNrIiwibmFtZSIsImxpbmsiLCJsaWtlcyIsIm93bmVyIiwiX2lkIiwidGhpcyIsIl9uYW1lIiwiX2xpbmsiLCJfbGlrZXMiLCJfY2FyZElkIiwiX2NhcmRTZWxlY3RvciIsIl9oYW5kbGVDYXJkQ2xpY2siLCJfaGFuZGxlRGVsZXRlQ2xpY2siLCJfaGFuZGxlUHV0TGlrZUNsaWNrIiwiX2hhbmRsZURpc2xpa2VMaWtlQ2xpY2siLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJjb250ZW50IiwiY2xvbmVOb2RlIiwiX2VsZW1lbnQiLCJfZ2V0VGVtcGxhdGUiLCJfc2V0RXZlbnRMaXN0ZW5lcnMiLCJfc2V0RGVsZXRlQnV0dG9uIiwiaW1hZ0luZm9DYXJkIiwidGV4dENvbnRlbnQiLCJsZW5ndGgiLCJzcmMiLCJhbHQiLCJfbGlrZVN0YXR1cyIsImFkZEV2ZW50TGlzdGVuZXIiLCJfaGFuZGxlTGlrZUNsaWNrIiwiY2xhc3NMaXN0IiwiY29udGFpbnMiLCJpdGVtIiwidG9nZ2xlIiwic29tZSIsImVsZW1lbnQiLCJhZGQiLCJyZW1vdmUiLCJTZWN0aW9uIiwicmVuZGVyZXIiLCJjb250YWluZXJTZWxlY3RvciIsIl9yZW5kZXJlciIsIl9jb250YWluZXIiLCJkYXRhIiwiZm9yRWFjaCIsInByZXBlbmQiLCJmb3JtRWxlbSIsImlucHV0RXJyb3IiLCJpbnB1dEVycm9yQWN0aXZlIiwiaW5wdXRGb3JtIiwic3VibWl0QnV0dG9uIiwiZm9ybSIsInN1Ym1pdEJ1dHRvbkluYWN0aXZlIiwiUG9wdXAiLCJzZWxlY3RvclBvcHVwIiwiZXZ0Iiwia2V5IiwiY2xvc2UiLCJ0YXJnZXQiLCJjdXJyZW50VGFyZ2V0IiwiX3NlbGVjdG9yIiwiX2J1dHRvbkNsb3NlIiwiX2hhbmRsZUVzY0Nsb3NlIiwiX2hhbmRsZUNsaWNrQ2xvc2UiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiUG9wdXBXaXRoRm9ybSIsImhhbmRsZUZvcm1TdWJtaXQiLCJfaGFuZGxlRm9ybVN1Ym1pdCIsIl9idXR0b24iLCJfaW5wdXRMaXN0IiwicXVlcnlTZWxlY3RvckFsbCIsIl9mb3JtVmFsdWVzIiwiaW5wdXQiLCJ2YWx1ZSIsInByZXZlbnREZWZhdWx0IiwiX2dldElucHV0VmFsdWVzIiwicmVzZXQiLCJ0ZXh0IiwiUG9wdXBXaXRoSW1hZ2UiLCJfaW1hZ2UiLCJVc2VySW5mbyIsImFib3V0IiwiYXZhdGFyIiwiX3Byb2Zlc3Npb24iLCJfYXZhdGFyIiwiX2lucHV0TmFtZSIsIl9pbnB1dFByb2Zlc3Npb24iLCJGb3JtVmFsaWRhdG9yIiwiY29uZmlnIiwiaW5wdXRFbGVtZW50IiwiZXJyb3JNZXNzYWdlIiwiZXJyb3JFbGVtZW50IiwiX2RhdGEiLCJpZCIsIl9pbnB1dEVycm9yIiwiX2lucHV0RXJyb3JBY3RpdmUiLCJ2YWxpZGl0eSIsInZhbGlkIiwiX2hpZGVJbnB1dEVycm9yIiwiX3Nob3dJbnB1dEVycm9yIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJfdG9nZ2xlQnV0dG9uU3RhdGUiLCJfaXNWYWxpZCIsIl9idXR0b25FbGVtZW50IiwiX3N1Ym1pdEJ1dHRvbkluYWN0aXZlIiwiZGlzYWJsZWQiLCJfaGFzSW52YWxpZElucHV0IiwiZGlzYWJsZWRCdXR0b25QbGFjZSIsIl9lbmFibGVkQnV0dG9uUGxhY2UiLCJfZm9ybSIsIl9pbnB1dEZvcm0iLCJfc3VibWl0QnV0dG9uIiwiQXJyYXkiLCJmcm9tIiwiQXBpIiwiX3VybCIsInVybCIsIl9oZWFkZXJzIiwiaGVhZGVycyIsImZldGNoIiwibWV0aG9kIiwidGhlbiIsInJlcyIsIm9rIiwianNvbiIsIlByb21pc2UiLCJyZWplY3QiLCJzdGF0dXMiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsIlBvcHVwV2l0aERlbGV0ZUZvcm0iLCJfaGFuZGxlU3VibWl0Q2FsbGJhY2siLCJhcGkiLCJhdXRob3JpemF0aW9uIiwiZ2V0VXNlckluZm8iLCJwcm9maWxlIiwic2V0VXNlckluZm8iLCJjYXRjaCIsImVyciIsImNvbnNvbGUiLCJsb2ciLCJhcGlDYXJkIiwiZ2V0QWxsQ2FyZHMiLCJjYXJkTGlzdCIsInJlbmRlckl0ZW0iLCJhcGlMaWtlIiwiYXBpRGVsZXRlQ2FyZCIsInJlbmRlckNhcmQiLCJjYXJkIiwiaW1nSXRlbSIsIm9wZW4iLCJmb3JtRGVsZXRlIiwic2V0U3VibWl0QWN0aW9uIiwiZGVsZXRlQ2FyZCIsImhhbmRsZVJlbW92ZUNsaWNrIiwicHV0TGlrZSIsInRvZ2dsZUxpa2UiLCJkZWxldGVMaWtlIiwiY3JlYXRlQ2FyZCIsImFkZEl0ZW0iLCJzZXRFdmVudExpc3RlbmVyIiwiZm9ybUFkZCIsImxvYWRpbmciLCJhZGROZXdQbGFjZSIsImZpbmFsbHkiLCJsb2FkaW5nRW5kIiwiYXBpQXZhdGFyIiwiZm9ybUF2YXRhciIsImVkaXRVc2VyQXZhdGFyIiwiYXBpVXNlckVkaXQiLCJmb3JtRWRpdCIsImVkaXRVc2VySW5mbyIsInZhbGlkRm9ybUFkZCIsImZvcm1QbGFjZUVsZW1lbnQiLCJmb3JtUHJvZmlsZUVsZW1lbnQiLCJmb3JtQXZhdGFyRWxlbWVudCIsImVuYWJsZVZhbGlkYXRpb24iXSwic291cmNlUm9vdCI6IiJ9